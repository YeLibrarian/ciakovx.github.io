<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Clarke Iakovakis" />

<meta name="date" content="2019-05-21" />

<title>Using rorcid</title>

<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<script src="site_libs/htmlwidgets-1.2/htmlwidgets.js"></script>
<link href="site_libs/jsoneditor-5.25.6/jsoneditor.min.css" rel="stylesheet" />
<script src="site_libs/jsoneditor-5.25.6/jsoneditor.min.js"></script>
<script src="site_libs/jsonedit-binding-2.1.0/jsonedit.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>



<link rel="stylesheet" href="rorcid_files/style.css" type="text/css" />

</head>

<body>




<section class="page-header">
<h1 class="title toc-ignore project-name">Using rorcid</h1>
<h4 class="author project-author">Clarke Iakovakis</h4>
<h4 class="date project-date">May 21, 2019</h4>
</section>


<div id="TOC" class="toc">
<ul>
<li><a href="#downloading-r-r-studio"><span class="toc-section-number">1</span> Downloading R &amp; R Studio</a></li>
<li><a href="#rorcid"><span class="toc-section-number">2</span> <code>rorcid</code></a><ul>
<li><a href="#setting-up-rorcid"><span class="toc-section-number">2.1</span> Setting up rorcid</a></li>
</ul></li>
<li><a href="#finding-oricid-ids-with-rorcidorcid"><span class="toc-section-number">3</span> Finding ORICID iDs with <code>rorcid::orcid()</code></a><ul>
<li><a href="#searching-by"><span class="toc-section-number">3.1</span> Searching by:</a><ul>
<li><a href="#name"><span class="toc-section-number">3.1.1</span> Name</a></li>
<li><a href="#oricid-id---orcid"><span class="toc-section-number">3.1.2</span> ORICID iD - <code>orcid:</code></a></li>
<li><a href="#email-address---email"><span class="toc-section-number">3.1.3</span> Email address - <code>email:</code></a></li>
<li><a href="#name-and-email-address-domain---okstate.edu"><span class="toc-section-number">3.1.4</span> Name and email address domain - <code>*@okstate.edu</code></a></li>
<li><a href="#affiliation"><span class="toc-section-number">3.1.5</span> Affiliation</a></li>
</ul></li>
</ul></li>
<li><a href="#finding-biographical-information-with-rorcidorcid_person"><span class="toc-section-number">4</span> Finding biographical information with <code>rorcid::orcid_person()</code></a><ul>
<li><a href="#getting-the-data-into-a-data-frame"><span class="toc-section-number">4.1</span> Getting the data into a data frame</a></li>
<li><a href="#fixing-dates"><span class="toc-section-number">4.2</span> Fixing dates</a></li>
<li><a href="#unnesting-nested-lists"><span class="toc-section-number">4.3</span> Unnesting nested lists</a></li>
</ul></li>
<li><a href="#writing-to-csv"><span class="toc-section-number">5</span> Writing to CSV</a></li>
<li><a href="#getting-data-on-multiple-people-with-orcid_person"><span class="toc-section-number">6</span> Getting data on multiple people with <code>orcid_person()</code></a><ul>
<li><a href="#searching-by-oricid-ids"><span class="toc-section-number">6.1</span> Searching by ORICID iDs</a></li>
<li><a href="#searching-by-names"><span class="toc-section-number">6.2</span> Searching by names</a></li>
<li><a href="#unnesting"><span class="toc-section-number">6.3</span> Unnesting</a></li>
</ul></li>
<li><a href="#getting-works-with-rorcidworks-and-rorcidorcid_works"><span class="toc-section-number">7</span> Getting Works with <code>rorcid::works()</code> and <code>rorcid::orcid_works()</code></a><ul>
<li><a href="#getting-works-for-an-individual"><span class="toc-section-number">7.1</span> Getting works for an individual</a></li>
<li><a href="#getting-works-for-multiple-people"><span class="toc-section-number">7.2</span> Getting works for multiple people</a></li>
<li><a href="#unnesting-external-ids"><span class="toc-section-number">7.3</span> Unnesting external IDs</a></li>
</ul></li>
<li><a href="#conclusion"><span class="toc-section-number">8</span> Conclusion</a></li>
</ul>
</div>

<section class="main-content">
<div id="downloading-r-r-studio" class="section level1">
<h1><span class="header-section-number">1</span> Downloading R &amp; R Studio</h1>
<p>To download R, go to <a href="https://www.r-project.org/" class="uri">https://www.r-project.org/</a>. Click on CRAN (Comprehensive R Archive Network) under Download, and scroll down to your country. Select the download link corresponding to the city that is geographically closest to you.</p>
<p>RStudio is a user interface for working with R. It is called an Integrated Development Environment (IDE) and acts as a sort of wrapper around the R language. You can use R without RStudio, but it’s much more limiting. RStudio makes it easier to import datasets, create and write scripts, and has an autocomplete activated for functions and variables you’ve already assigned. RStudio makes using R much more effective, and is also free and open source.</p>
<p>Go to <a href="https://www.rstudio.com/products/RStudio/#Desktop" class="uri">https://www.rstudio.com/products/RStudio/#Desktop</a> to download the RStudio desktop software.</p>
<p>There are other IDEs such as <a href="https://mran.microsoft.com/open">Microsoft R Open</a> and <a href="https://notepad-plus-plus.org/">Notepad ++</a>. Experiment with one that is right for you.</p>
</div>
<div id="rorcid" class="section level1">
<h1><span class="header-section-number">2</span> <code>rorcid</code></h1>
<p><code>rorcid</code> is a package developed by <a href="https://scottchamberlain.info/">Scott Chamberlain</a>, co-founder of <a href="https://ropensci.org/">rOpenSci</a>, to serve as an interface to the ORCID API. You can find more information about the API <a href="http://members.orcid.org/api/about-public-api">on the ORCID site</a>.</p>
<p>Credit to Paul Oldham at <a href="https://www.pauloldham.net/introduction-to-orcid-with-rorcid/" class="uri">https://www.pauloldham.net/introduction-to-orcid-with-rorcid/</a> for inspiring some of the structure and ideas throughout this document. I highly recommend reading it.</p>
<div id="setting-up-rorcid" class="section level2">
<h2><span class="header-section-number">2.1</span> Setting up rorcid</h2>
<p>If you haven’t done so already, create an ORCID account at <a href="https://orcid.org/signin" class="uri">https://orcid.org/signin</a>. If you have an ORCID but can’t remember it, search for your name at <a href="https://orcid.org" class="uri">https://orcid.org</a>. If you try to sign in with an email address already associated with an ORCID, you’ll be prompted to sign into the existing record. If you try to register with a different address, when you enter your name you’ll be asked to review existing records with that name and verify that none of them belong to you–<a href="https://support.orcid.org/hc/en-us/articles/360006972593-How-do-you-check-for-duplicate-ORCID-records-">see more on duplicate ORCID records</a>. Make sure you have verified your email address.</p>
<p>Next, install and load the <code>rorcid</code> package in R. Also install <code>usethis</code> in order to set the API key, as well as <code>tidyverse</code>, which is a package that contains many packages we’ll use throughout.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">install.packages</span>(<span class="st">&quot;rorcid&quot;</span>)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">install.packages</span>(<span class="st">&quot;usethis&quot;</span>)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>)</a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="kw">install.packages</span>(<span class="st">&quot;anytime&quot;</span>)</a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="kw">install.packages</span>(<span class="st">&quot;httpuv&quot;</span>)</a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="kw">install.packages</span>(<span class="st">&quot;janitor&quot;</span>)</a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="kw">library</span>(rorcid)</a>
<a class="sourceLine" id="cb1-8" data-line-number="8"><span class="kw">library</span>(usethis)</a>
<a class="sourceLine" id="cb1-9" data-line-number="9"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb1-10" data-line-number="10"><span class="kw">library</span>(anytime)</a>
<a class="sourceLine" id="cb1-11" data-line-number="11"><span class="kw">library</span>(lubridate)</a>
<a class="sourceLine" id="cb1-12" data-line-number="12"><span class="kw">library</span>(janitor)</a></code></pre></div>
<p>Next, you need to authenticate with an ORCID API Key. According to the <a href="https://members.orcid.org/api/tutorial/read-orcid-records">ORCID API tutorial</a>, anyone can receive a key to access the public API.</p>
<p>In R Studio, call:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">orcid_auth</span>()</a></code></pre></div>
<p>You should see a message stating: <code>no ORCID token found; attempting OAuth authentication</code> and a window will open in your default internet browser. Log-in to your orcid account. You will be asked to give <code>rorcid</code> authorization to access your ORCID Record for the purposes of getting your ORCID iD. Click “Authorize.”</p>
<p>If successful, the browser window will state: “Authentication complete. Please close this page and return to R.” Return to R Studio and you should see in your R console the word <strong>Bearer</strong>, followed by a long string of letters and numbers. These letters and numbers are your API key. At this point, this should be cached locally in your working directory.</p>
<p>Highlight and copy the API key (the letters and numbers only–exclude the word “Bearer” and the space). Now you can use the <code>edit_r_environ()</code> function from the <code>usethis</code> package to store the token in your R environment.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">usethis<span class="op">::</span><span class="kw">edit_r_environ</span>()</a></code></pre></div>
<p>A new window will open in R Studio. Type <code>ORCID_TOKEN=&quot;my-token&quot;</code>, replacing <code>my-token</code> with the API key. <strong>Then press enter to create a new line, and leave it blank.</strong> It will look like something like this (below is a fake token):</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">ORCID_TOKEN=<span class="st">&quot;4bed1e13-7792-4129-9f07-aaf7b88ba88f&quot;</span></a></code></pre></div>
<p>Press Ctrl/Cmd + S to save the API key to your R environment and close the window. In R Studio, click Session &gt; Restart R. Your token should now be saved to your R environment. You can confirm this by calling <code>orcid_auth()</code>, and it will print the token.</p>
</div>
</div>
<div id="finding-oricid-ids-with-rorcidorcid" class="section level1">
<h1><span class="header-section-number">3</span> Finding ORICID iDs with <code>rorcid::orcid()</code></h1>
<p>The <code>rorcid::orcid()</code> function takes a query and returns a data frame of identifiers. As stated in the documentation for this function, the results are the identifiers only–in other words, no works or biographical information. There are other functions in the <code>rorcid</code> package that retrieve that data.</p>
<div id="searching-by" class="section level2">
<h2><span class="header-section-number">3.1</span> Searching by:</h2>
<div id="name" class="section level3">
<h3><span class="header-section-number">3.1.1</span> Name</h3>
<p>We start with a simple open search by name:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">carberry &lt;-<span class="st"> </span>rorcid<span class="op">::</span><span class="kw">orcid</span>(<span class="dt">query =</span> <span class="st">&#39;josiah carberry&#39;</span>)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="kw">head</span>(carberry)</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["orcid-identifier.uri"],"name":[1],"type":["chr"],"align":["left"]},{"label":["orcid-identifier.path"],"name":[2],"type":["chr"],"align":["left"]},{"label":["orcid-identifier.host"],"name":[3],"type":["chr"],"align":["left"]}],"data":[{"1":"https://orcid.org/0000-0002-1028-6941","2":"0000-0002-1028-6941","3":"orcid.org"},{"1":"https://orcid.org/0000-0002-1825-0097","2":"0000-0002-1825-0097","3":"orcid.org"},{"1":"https://orcid.org/0000-0001-8162-1359","2":"0000-0001-8162-1359","3":"orcid.org"},{"1":"https://orcid.org/0000-0001-7710-0796","2":"0000-0001-7710-0796","3":"orcid.org"},{"1":"https://orcid.org/0000-0003-3138-875X","2":"0000-0003-3138-875X","3":"orcid.org"},{"1":"https://orcid.org/0000-0003-0362-0689","2":"0000-0003-0362-0689","3":"orcid.org"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>ORCID returns a data frame of 100 results with three fields:</p>
<ul>
<li><strong>orcid-identifier.uri</strong>: the URL to the ORCID</li>
<li><strong>orcid-identifier.path</strong>: the ORCID itself</li>
<li><strong>orcid-identifier.host</strong>: the host</li>
</ul>
<p>Are there actually 100 people named Josiah Carberry in ORCID? No. It returns this many results for two reasons. First, because the default search is for “josiah OR carberry,” and second, because the <code>query</code> argument looks in several fields including name and institution. ORCID returns 100 results by default, so this is telling us that at least 100 items have the word josiah or the word carberry in one of the searchable fields. This is not very useful to find a specific person.</p>
<p>There are two ways of addressing this.</p>
<ol style="list-style-type: decimal">
<li>We can connect the terms with an AND to narrow the set of results. Note that this will look in all search fields, not just name.</li>
</ol>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">carberry &lt;-<span class="st"> </span>rorcid<span class="op">::</span><span class="kw">orcid</span>(<span class="dt">query =</span> <span class="st">&#39;josiah AND carberry&#39;</span>)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2">carberry</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["orcid-identifier.uri"],"name":[1],"type":["chr"],"align":["left"]},{"label":["orcid-identifier.path"],"name":[2],"type":["chr"],"align":["left"]},{"label":["orcid-identifier.host"],"name":[3],"type":["chr"],"align":["left"]}],"data":[{"1":"https://orcid.org/0000-0002-1028-6941","2":"0000-0002-1028-6941","3":"orcid.org","_rn_":"1"},{"1":"https://orcid.org/0000-0002-1825-0097","2":"0000-0002-1825-0097","3":"orcid.org","_rn_":"2"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>It looks like there are two profiles that meet this criteria. We can look at the ORCID profiles in our browser by using <code>rorcid::browse()</code> in combination with <code>as.orcid()</code>. In other words, we are wrapping the <code>orcid-identifier.path</code> in <code>as.orcid()</code> and using the <code>browse()</code> function to view the ORCID profile on the web.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">rorcid<span class="op">::</span><span class="kw">browse</span>(rorcid<span class="op">::</span><span class="kw">as.orcid</span>(carberry<span class="op">$</span><span class="st">`</span><span class="dt">orcid-identifier.path</span><span class="st">`</span>[<span class="dv">1</span>]))</a>
<a class="sourceLine" id="cb7-2" data-line-number="2">rorcid<span class="op">::</span><span class="kw">browse</span>(rorcid<span class="op">::</span><span class="kw">as.orcid</span>(carberry<span class="op">$</span><span class="st">`</span><span class="dt">orcid-identifier.path</span><span class="st">`</span>[<span class="dv">2</span>]))</a></code></pre></div>
<p>We see here that the first (0000-0002-1028-6941) is more recent and less complete, and the second (0000-0002-1825-0097) has much more data.</p>
<p>We can add more terms with AND. For example, his university:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">carberry &lt;-<span class="st"> </span>rorcid<span class="op">::</span><span class="kw">orcid</span>(<span class="dt">query =</span> <span class="st">&#39;josiah AND wesleyan&#39;</span>)</a>
<a class="sourceLine" id="cb8-2" data-line-number="2">carberry</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["orcid-identifier.uri"],"name":[1],"type":["chr"],"align":["left"]},{"label":["orcid-identifier.path"],"name":[2],"type":["chr"],"align":["left"]},{"label":["orcid-identifier.host"],"name":[3],"type":["chr"],"align":["left"]}],"data":[{"1":"https://orcid.org/0000-0002-1825-0097","2":"0000-0002-1825-0097","3":"orcid.org","_rn_":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>We could also use one of Dr. Carberry’s keywords, “psychoceramics” (the study of cracked pots):</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">carberry &lt;-<span class="st"> </span>rorcid<span class="op">::</span><span class="kw">orcid</span>(<span class="dt">query =</span> <span class="st">&#39;josiah AND psychoceramics&#39;</span>)</a>
<a class="sourceLine" id="cb9-2" data-line-number="2">carberry</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["orcid-identifier.uri"],"name":[1],"type":["chr"],"align":["left"]},{"label":["orcid-identifier.path"],"name":[2],"type":["chr"],"align":["left"]},{"label":["orcid-identifier.host"],"name":[3],"type":["chr"],"align":["left"]}],"data":[{"1":"https://orcid.org/0000-0002-1028-6941","2":"0000-0002-1028-6941","3":"orcid.org","_rn_":"1"},{"1":"https://orcid.org/0000-0002-1825-0097","2":"0000-0002-1825-0097","3":"orcid.org","_rn_":"2"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>We can also use nested searches with <code>AND()</code>. Note the parentheses and no spaces. “Dr.” Carberry is a “professor” at Wesleyan and Brown:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">carberry &lt;-<span class="st"> </span>rorcid<span class="op">::</span><span class="kw">orcid</span>(<span class="dt">query =</span> <span class="st">&#39;carberry AND(wesleyan OR brown)&#39;</span>)</a></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>We can make our search more accurate and precise using fields. A list of fields is provided at <a href="https://members.orcid.org/api/tutorial/search-orcid-registry" class="uri">https://members.orcid.org/api/tutorial/search-orcid-registry</a>.</li>
</ol>
<p>Referring to that page, we can use <code>given-names</code> and <code>family-name</code> to find all ORCID results with that combination:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">carberry &lt;-<span class="st"> </span>rorcid<span class="op">::</span><span class="kw">orcid</span>(<span class="dt">query =</span> <span class="st">&#39;given-names:josiah AND family-name:carberry&#39;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="st">  </span>janitor<span class="op">::</span><span class="kw">clean_names</span>()</a>
<a class="sourceLine" id="cb11-3" data-line-number="3">carberry</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["orcid_identifier_uri"],"name":[1],"type":["chr"],"align":["left"]},{"label":["orcid_identifier_path"],"name":[2],"type":["chr"],"align":["left"]},{"label":["orcid_identifier_host"],"name":[3],"type":["chr"],"align":["left"]}],"data":[{"1":"https://orcid.org/0000-0002-1825-0097","2":"0000-0002-1825-0097","3":"orcid.org","_rn_":"1"},{"1":"https://orcid.org/0000-0002-1028-6941","2":"0000-0002-1028-6941","3":"orcid.org","_rn_":"2"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>It looks like there are two people in the public ORCID registry with the first name Josiah and the last name Carberry.</p>
<p>The <code>clean_names()</code> function from the <code>janitor</code> package is optional and used only to simplify the column names of the data. It converts all punctuation to underscores, so the field <code>orcid-identifier.uri</code> becomes <code>orcid_identifier_uri</code>.</p>
<p>The <code>janitor::clean_names()</code> function is connected to the <code>orcid()</code> function with something called a <a href="https://www.datacamp.com/community/tutorials/pipe-r-tutorial">Pipe Operator</a> <code>%&gt;%</code>. A pipe takes the output of one statement and makes it the input of the next statement. You can think of it as “then” in natural language. So the above script first runs the <code>orcid()</code> API call, then it clean the column names of the data that was pulled into R as a result of that call.</p>
<p>What other fields can we search?</p>
</div>
<div id="oricid-id---orcid" class="section level3">
<h3><span class="header-section-number">3.1.2</span> ORICID iD - <code>orcid:</code></h3>
<p>Of course, we can search by ORCID itself:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">carberry &lt;-<span class="st"> </span>rorcid<span class="op">::</span><span class="kw">orcid</span>(<span class="dt">query =</span> <span class="st">&#39;orcid:0000-0002-1825-0097&#39;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb12-2" data-line-number="2"><span class="st">  </span>janitor<span class="op">::</span><span class="kw">clean_names</span>()</a></code></pre></div>
</div>
<div id="email-address---email" class="section level3">
<h3><span class="header-section-number">3.1.3</span> Email address - <code>email:</code></h3>
<p>We can search by email address. Since Josiah doesn’t have email, we’ll use mine. <a href="https://members.orcid.org/api/tutorial/search-orcid-registry">According to ORCID</a>, as of February 2017, fewer than 2% of the 3+ million email addresses on ORCID records are public, so this one may not be incredibly helpful.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">iakovakis &lt;-<span class="st"> </span>rorcid<span class="op">::</span><span class="kw">orcid</span>(<span class="dt">query =</span> <span class="st">&#39;email:clarke.iakovakis@okstate.edu&#39;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="st">  </span>janitor<span class="op">::</span><span class="kw">clean_names</span>()</a></code></pre></div>
</div>
<div id="name-and-email-address-domain---okstate.edu" class="section level3">
<h3><span class="header-section-number">3.1.4</span> Name and email address domain - <code>*@okstate.edu</code></h3>
<p>We can search by name and email address domain by using an asterisk followed by the domain name:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">iakovakis &lt;-<span class="st"> </span>rorcid<span class="op">::</span><span class="kw">orcid</span>(<span class="dt">query =</span> <span class="st">&#39;family-name:iakovakis AND email:*@okstate.edu&#39;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb14-2" data-line-number="2"><span class="st">  </span>janitor<span class="op">::</span><span class="kw">clean_names</span>()</a></code></pre></div>
</div>
<div id="affiliation" class="section level3">
<h3><span class="header-section-number">3.1.5</span> Affiliation</h3>
<div id="affiliation-organization-name---affiliation-org-name" class="section level4">
<h4><span class="header-section-number">3.1.5.1</span> Affiliation organization name - <code>affiliation-org-name:</code></h4>
<p>We can search by affiliation organization name:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1">carberry &lt;-<span class="st"> </span>rorcid<span class="op">::</span><span class="kw">orcid</span>(<span class="dt">query =</span> <span class="st">&#39;family-name:carberry AND affiliation-org-name:Wesleyan&#39;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb15-2" data-line-number="2"><span class="st">  </span>janitor<span class="op">::</span><span class="kw">clean_names</span>()</a></code></pre></div>
</div>
<div id="institutional-id-ringgold-isni-grid---ringgold-org-id" class="section level4">
<h4><span class="header-section-number">3.1.5.2</span> Institutional ID (Ringgold, ISNI, GRID) - <code>ringgold-org-id:</code></h4>
<p>When filling out an ORCID profile, users are encouraged to select their institutions from the drop-down menu, which will ensure it includes the Ringgold ID and any other unique identifiers, such as ISNI and GRID, that ORCID has for that institution. Read the ORCID report, <a href="https://orcid.org/sites/default/files/ckfinder/userfiles/files/20161031%20OrgIDProviderSurvey.pdf">“Organization identifiers: current provider survey”</a> to learn more.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1">carberry &lt;-<span class="st"> </span>rorcid<span class="op">::</span><span class="kw">orcid</span>(<span class="dt">query =</span> <span class="st">&#39;family-name:carberry AND ringgold-org-id:6752&#39;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb16-2" data-line-number="2"><span class="st">  </span>janitor<span class="op">::</span><span class="kw">clean_names</span>()</a></code></pre></div>
<p>Note that most institutions in ORCID have Ringgold IDs, but you have to <a href="https://www.ringgold.com/identify-online-guests/">register with Ringgold</a> to search in their registry. <a href="https://www.grid.ac/institutes/grid.268117.b">GRID is open for searching</a>, but not all institutions have a GRID in ORCID.</p>
</div>
<div id="combining-affiliation-name-ringgold-and-email-address-domain" class="section level4">
<h4><span class="header-section-number">3.1.5.3</span> Combining affiliation name, Ringgold, and email address domain</h4>
<p>We can combine affiliation names, Ringgold IDs, and email addresses using the <code>OR</code> operator to cover all our bases, in case the person or people we are looking for did not on of those values:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1">iakovakis &lt;-<span class="st"> </span>rorcid<span class="op">::</span><span class="kw">orcid</span>(<span class="dt">query =</span> <span class="st">&#39;family-name:iakovakis AND(ringgold-org-id:7618 OR</span></a>
<a class="sourceLine" id="cb17-2" data-line-number="2"><span class="st">                           email:*@okstate.edu OR </span></a>
<a class="sourceLine" id="cb17-3" data-line-number="3"><span class="st">                           affiliation-org-name:&quot;Oklahoma State&quot;)&#39;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb17-4" data-line-number="4"><span class="st">  </span>janitor<span class="op">::</span><span class="kw">clean_names</span>()</a>
<a class="sourceLine" id="cb17-5" data-line-number="5">iakovakis</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["orcid_identifier_uri"],"name":[1],"type":["chr"],"align":["left"]},{"label":["orcid_identifier_path"],"name":[2],"type":["chr"],"align":["left"]},{"label":["orcid_identifier_host"],"name":[3],"type":["chr"],"align":["left"]}],"data":[{"1":"https://orcid.org/0000-0002-9260-8456","2":"0000-0002-9260-8456","3":"orcid.org","_rn_":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>This can also be helpful if you want to cast a very wide net and capture everyone at your institution with an ORICID iD.</p>
<p>I am going to add a <code>rows</code> argument to limit my results to 10 here, otherwise it will be a huge dataset:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1">my_osu_orcids &lt;-<span class="st"> </span>rorcid<span class="op">::</span><span class="kw">orcid</span>(<span class="dt">query =</span> <span class="st">&#39;ringgold-org-id:7618 OR email:*@okstate.edu OR</span></a>
<a class="sourceLine" id="cb18-2" data-line-number="2"><span class="st">                               affiliation-org-name:&quot;Oklahoma State&quot;&#39;</span>, <span class="dt">rows =</span> <span class="dv">10</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb18-3" data-line-number="3"><span class="st">  </span>janitor<span class="op">::</span><span class="kw">clean_names</span>()</a>
<a class="sourceLine" id="cb18-4" data-line-number="4"><span class="kw">head</span>(my_osu_orcids)</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["orcid_identifier_uri"],"name":[1],"type":["chr"],"align":["left"]},{"label":["orcid_identifier_path"],"name":[2],"type":["chr"],"align":["left"]},{"label":["orcid_identifier_host"],"name":[3],"type":["chr"],"align":["left"]}],"data":[{"1":"https://orcid.org/0000-0001-9667-6520","2":"0000-0001-9667-6520","3":"orcid.org"},{"1":"https://orcid.org/0000-0002-2606-5027","2":"0000-0002-2606-5027","3":"orcid.org"},{"1":"https://orcid.org/0000-0002-2590-2241","2":"0000-0002-2590-2241","3":"orcid.org"},{"1":"https://orcid.org/0000-0002-2569-3048","2":"0000-0002-2569-3048","3":"orcid.org"},{"1":"https://orcid.org/0000-0001-8330-8251","2":"0000-0001-8330-8251","3":"orcid.org"},{"1":"https://orcid.org/0000-0001-5548-0265","2":"0000-0001-5548-0265","3":"orcid.org"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>If you wanted to retrieve a complete set, you would want to remove the <code>rows</code> argument and add <code>recursive=TRUE</code>. This will keep drilling down until all records are retrieved for your query, so it may take a while if you are looking at a large institution.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1">my_osu_orcids &lt;-<span class="st"> </span>rorcid<span class="op">::</span><span class="kw">orcid</span>(<span class="dt">query =</span> <span class="st">&#39;ringgold-org-id:7618 OR </span></a>
<a class="sourceLine" id="cb19-2" data-line-number="2"><span class="st">                               email:*@okstate.edu OR affiliation-org-name:&quot;Oklahoma State&quot;&#39;</span>, <span class="dt">recursive =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb19-3" data-line-number="3"><span class="st">  </span>janitor<span class="op">::</span><span class="kw">clean_names</span>()</a></code></pre></div>
</div>
</div>
</div>
</div>
<div id="finding-biographical-information-with-rorcidorcid_person" class="section level1">
<h1><span class="header-section-number">4</span> Finding biographical information with <code>rorcid::orcid_person()</code></h1>
<p>The <code>orcid()</code> function gets the IDs, but no information about the person. For that, you will need to use <code>orcid_person()</code>.</p>
<p>Unlike <code>orcid()</code>, <code>orcid_person()</code> does not take a query; it accepts only ORICID iDs in the form XXXX-XXXX-XXXX-XXXX. So we can get the ORICID iD itself into it’s own vector. We can then pass that argument on to <code>orcid_person()</code>.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1">carberry_orcid &lt;-<span class="st"> &quot;0000-0002-1825-0097&quot;</span></a>
<a class="sourceLine" id="cb20-2" data-line-number="2">carberry_person &lt;-<span class="st"> </span>rorcid<span class="op">::</span><span class="kw">orcid_person</span>(carberry_orcid) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb20-3" data-line-number="3"><span class="st">  </span>janitor<span class="op">::</span><span class="kw">clean_names</span>()</a>
<a class="sourceLine" id="cb20-4" data-line-number="4">carberry_person2 &lt;-<span class="st"> </span>rorcid<span class="op">::</span><span class="kw">orcid_person</span>(<span class="st">&quot;0000-0002-1028-6941&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb20-5" data-line-number="5"><span class="st">  </span>janitor<span class="op">::</span><span class="kw">clean_names</span>()</a></code></pre></div>
<p>If you look at the result for carberry_person in R Studio, you will see it returned a List of 1. You can click on that list to view it in the R Studio viewer. Another way of viewing the list is to use the <code>jsonedit()</code> function from the <code>listviewer</code> package:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="kw">install.packages</span>(<span class="st">&quot;listviewer&quot;</span>)</a>
<a class="sourceLine" id="cb21-2" data-line-number="2"><span class="kw">library</span>(listviewer)</a>
<a class="sourceLine" id="cb21-3" data-line-number="3">listviewer<span class="op">::</span><span class="kw">jsonedit</span>(carberry_person)</a></code></pre></div>
<p>Click the drop-down arrow next to the ORICID iD. This is a list containing lists of lists! Click the drop-down menu next to name and you will see 6 lists and two vectors.</p>
<div id="getting-the-data-into-a-data-frame" class="section level2">
<h2><span class="header-section-number">4.1</span> Getting the data into a data frame</h2>
<p>It’s not easy to get this into a nice, neat data frame. Here is one strategy to get some of the relevant data, using <code>map</code> functions from the <code>purrr</code> package and building a <code>tibble</code> (the tidyverse’s more efficient data frame) piece by piece.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1">carberry_data &lt;-<span class="st"> </span>carberry_person <span class="op">%&gt;%</span><span class="st"> </span>{</a>
<a class="sourceLine" id="cb22-2" data-line-number="2">    <span class="kw">tibble</span>(</a>
<a class="sourceLine" id="cb22-3" data-line-number="3">      <span class="dt">created_date =</span> purrr<span class="op">::</span><span class="kw">map_dbl</span>(., purrr<span class="op">::</span>pluck, <span class="st">&quot;name&quot;</span>, <span class="st">&quot;created-date&quot;</span>, <span class="st">&quot;value&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>),</a>
<a class="sourceLine" id="cb22-4" data-line-number="4">      <span class="dt">given_name =</span> purrr<span class="op">::</span><span class="kw">map_chr</span>(., purrr<span class="op">::</span>pluck, <span class="st">&quot;name&quot;</span>, <span class="st">&quot;given-names&quot;</span>, <span class="st">&quot;value&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>),</a>
<a class="sourceLine" id="cb22-5" data-line-number="5">      <span class="dt">family_name =</span> purrr<span class="op">::</span><span class="kw">map_chr</span>(., purrr<span class="op">::</span>pluck, <span class="st">&quot;name&quot;</span>, <span class="st">&quot;family-name&quot;</span>, <span class="st">&quot;value&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>),</a>
<a class="sourceLine" id="cb22-6" data-line-number="6">      <span class="dt">credit_name =</span> purrr<span class="op">::</span><span class="kw">map_chr</span>(., purrr<span class="op">::</span>pluck, <span class="st">&quot;name&quot;</span>, <span class="st">&quot;credit-name&quot;</span>, <span class="st">&quot;value&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>),</a>
<a class="sourceLine" id="cb22-7" data-line-number="7">      <span class="dt">other_names =</span> purrr<span class="op">::</span><span class="kw">map</span>(., purrr<span class="op">::</span>pluck, <span class="st">&quot;other-names&quot;</span>, <span class="st">&quot;other-name&quot;</span>, <span class="st">&quot;content&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>),</a>
<a class="sourceLine" id="cb22-8" data-line-number="8">      <span class="dt">orcid_identifier_path =</span> purrr<span class="op">::</span><span class="kw">map_chr</span>(., purrr<span class="op">::</span>pluck, <span class="st">&quot;name&quot;</span>, <span class="st">&quot;path&quot;</span>, <span class="dt">.default =</span> <span class="ot">NA_character_</span>),</a>
<a class="sourceLine" id="cb22-9" data-line-number="9">      <span class="dt">biography =</span> purrr<span class="op">::</span><span class="kw">map_chr</span>(., purrr<span class="op">::</span>pluck, <span class="st">&quot;biography&quot;</span>, <span class="st">&quot;content&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>),</a>
<a class="sourceLine" id="cb22-10" data-line-number="10">      <span class="dt">researcher_urls =</span> purrr<span class="op">::</span><span class="kw">map</span>(., purrr<span class="op">::</span>pluck, <span class="st">&quot;researcher-urls&quot;</span>, <span class="st">&quot;researcher-url&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>),</a>
<a class="sourceLine" id="cb22-11" data-line-number="11">      <span class="dt">emails =</span> purrr<span class="op">::</span><span class="kw">map</span>(., purrr<span class="op">::</span>pluck, <span class="st">&quot;emails&quot;</span>, <span class="st">&quot;email&quot;</span>, <span class="st">&quot;email&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>),</a>
<a class="sourceLine" id="cb22-12" data-line-number="12">      <span class="dt">keywords =</span> purrr<span class="op">::</span><span class="kw">map</span>(., purrr<span class="op">::</span>pluck, <span class="st">&quot;keywords&quot;</span>, <span class="st">&quot;keyword&quot;</span>, <span class="st">&quot;content&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>),</a>
<a class="sourceLine" id="cb22-13" data-line-number="13">      <span class="dt">external_ids =</span> purrr<span class="op">::</span><span class="kw">map</span>(., purrr<span class="op">::</span>pluck, <span class="st">&quot;external-identifiers&quot;</span>, <span class="st">&quot;external-identifier&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>)</a>
<a class="sourceLine" id="cb22-14" data-line-number="14">    )}</a>
<a class="sourceLine" id="cb22-15" data-line-number="15">carberry_data</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["created_date"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["given_name"],"name":[2],"type":["chr"],"align":["left"]},{"label":["family_name"],"name":[3],"type":["chr"],"align":["left"]},{"label":["credit_name"],"name":[4],"type":["chr"],"align":["left"]},{"label":["other_names"],"name":[5],"type":["list"],"align":["right"]},{"label":["orcid_identifier_path"],"name":[6],"type":["chr"],"align":["left"]},{"label":["biography"],"name":[7],"type":["chr"],"align":["left"]},{"label":["researcher_urls"],"name":[8],"type":["list"],"align":["right"]},{"label":["emails"],"name":[9],"type":["list"],"align":["right"]},{"label":["keywords"],"name":[10],"type":["list"],"align":["right"]},{"label":["external_ids"],"name":[11],"type":["list"],"align":["right"]}],"data":[{"1":"1.460758e+12","2":"Josiah","3":"Carberry","4":"NA","5":"<chr [3]>","6":"0000-0002-1825-0097","7":"Josiah Carberry is a fictitious person. This account is used as a demonstration account by ORCID, CrossRef and others who wish to demonstrate the interaction of ORCID with other scholarly communication systems without having to use a real-person's account.\\r\\n\\r\\nJosiah Stinkney Carberry is a fictional professor, created as a joke in 1929. He is said to still teach at Brown University, and to be known for his work in \"psychoceramics\", the supposed study of \"cracked pots\". See his Wikipedia entry for more details.","8":"<data.frame [2 × 13]>","9":"<chr [1]>","10":"<chr [2]>","11":"<data.frame [1 × 15]>"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>We have some issues with the date formatting, which we’ll go into in the next section. Each of these functions includes a <code>.default = NA_character_</code> argument because if the value is NULL (if the ORCID author didn’t input the information) then it will convert that NULL to NA.</p>
<ul>
<li>The <strong>created_date</strong> comes from the name list, so technically it is the date the name was created, not the date the ORCID account was created, which is not available in this data. This is plucked with <code>map_dbl()</code> because it is in <code>double</code> format (a numeric data type in R) .</li>
<li>The <strong>given_name</strong>, <strong>family_name</strong>, <strong>credit_name</strong>, <strong>orcid_identifier_path</strong>, and <strong>biography</strong> are plucked with <code>map_chr()</code> because they are both <code>character</code> types.</li>
<li>The <strong>other_names</strong>, <strong>keywords</strong>, <strong>researcher_urls</strong>, and <strong>external_ids</strong> are plucked with <code>map()</code> because there may be multiple values (unlike the other names, in which you can only have one). So this will return a nested list to the tibble; we will discuss below how to unnest it.</li>
</ul>
<p>Now what is going on with those dates?</p>
</div>
<div id="fixing-dates" class="section level2">
<h2><span class="header-section-number">4.2</span> Fixing dates</h2>
<pre><code>## [1] 1.460758e+12</code></pre>
<p>The dates are in <a href="https://en.wikipedia.org/wiki/Unix_time">Unix time</a>, which is the number of seconds that have elapsed since January 1, 1970. In ORCID, this is in milliseconds. We can use the <code>anytime()</code> function from the <code>anytime</code> package created by Dirk Eddelbuettel to convert it and return a POSIXct object. You have to divide it by 1000 because it’s in milliseconds. Below we use the <code>mutate()</code> function from <code>dplyr</code> to overwrite the <code>created_date</code> and <code>last_modified_date</code> UNIX time with the human readable POSIXct dates.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1">carberry_datesAndTimes &lt;-<span class="st"> </span>carberry_data <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb24-2" data-line-number="2"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">created_date =</span> anytime<span class="op">::</span><span class="kw">anytime</span>(created_date<span class="op">/</span><span class="dv">1000</span>))</a>
<a class="sourceLine" id="cb24-3" data-line-number="3">carberry_datesAndTimes<span class="op">$</span>created_date</a></code></pre></div>
<pre><code>## [1] &quot;2016-04-15 17:00:17 CDT&quot;</code></pre>
<p>That looks much better.</p>
<p>If you’d prefer to do away with the time altogether (and keep only the date), you can use <code>anydate()</code> instead of <code>anytime()</code>.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1">carberry_datesOnly &lt;-<span class="st"> </span>carberry_data <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb26-2" data-line-number="2"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">created_date =</span> anytime<span class="op">::</span><span class="kw">anydate</span>(created_date<span class="op">/</span><span class="dv">1000</span>))</a>
<a class="sourceLine" id="cb26-3" data-line-number="3">carberry_datesOnly<span class="op">$</span>created_date</a></code></pre></div>
<pre><code>## [1] &quot;2016-04-15&quot;</code></pre>
<p>Check out the <code>lubridate</code> package for more you can do with dates. It is installed with <code>tidyverse</code>, but not loaded, so you have to load it with its own call to <code>library()</code> (we did this at the beginning of the session). For example, you may be more interested in year of creation than month. So after you run the conversion with <code>anytime</code>, you can create year variables:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1">carberry_years &lt;-<span class="st"> </span>carberry_datesOnly <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb28-2" data-line-number="2"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">created_year =</span> lubridate<span class="op">::</span><span class="kw">year</span>(created_date))</a>
<a class="sourceLine" id="cb28-3" data-line-number="3">carberry_years<span class="op">$</span>created_year</a></code></pre></div>
<pre><code>## [1] 2016</code></pre>
</div>
<div id="unnesting-nested-lists" class="section level2">
<h2><span class="header-section-number">4.3</span> Unnesting nested lists</h2>
<p>There are nested lists in this data frame that can be unnested. The <strong>other_names</strong> and <strong>keywords</strong> values are character vectors, while the <strong>researcher_urls</strong> and <strong>external_ids</strong> values are data frames themselves. We can use the <code>unnest()</code> function from the <code>tidyr</code> package to unnest both types. In other words, this will make each element of the list its own row. For instance, since there are two keywords for carberry (“psychoceramics” and “ionian philology”), there will now be two rows that are otherwise identical except for the keywords column:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1">carberry_keywords &lt;-<span class="st"> </span>carberry_data <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb30-2" data-line-number="2"><span class="st">  </span>tidyr<span class="op">::</span><span class="kw">unnest</span>(keywords)</a>
<a class="sourceLine" id="cb30-3" data-line-number="3">carberry_keywords</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["created_date"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["given_name"],"name":[2],"type":["chr"],"align":["left"]},{"label":["family_name"],"name":[3],"type":["chr"],"align":["left"]},{"label":["credit_name"],"name":[4],"type":["chr"],"align":["left"]},{"label":["orcid_identifier_path"],"name":[5],"type":["chr"],"align":["left"]},{"label":["biography"],"name":[6],"type":["chr"],"align":["left"]},{"label":["keywords"],"name":[7],"type":["chr"],"align":["left"]}],"data":[{"1":"1.460758e+12","2":"Josiah","3":"Carberry","4":"NA","5":"0000-0002-1825-0097","6":"Josiah Carberry is a fictitious person. This account is used as a demonstration account by ORCID, CrossRef and others who wish to demonstrate the interaction of ORCID with other scholarly communication systems without having to use a real-person's account.\\r\\n\\r\\nJosiah Stinkney Carberry is a fictional professor, created as a joke in 1929. He is said to still teach at Brown University, and to be known for his work in \"psychoceramics\", the supposed study of \"cracked pots\". See his Wikipedia entry for more details.","7":"psychoceramics"},{"1":"1.460758e+12","2":"Josiah","3":"Carberry","4":"NA","5":"0000-0002-1825-0097","6":"Josiah Carberry is a fictitious person. This account is used as a demonstration account by ORCID, CrossRef and others who wish to demonstrate the interaction of ORCID with other scholarly communication systems without having to use a real-person's account.\\r\\n\\r\\nJosiah Stinkney Carberry is a fictional professor, created as a joke in 1929. He is said to still teach at Brown University, and to be known for his work in \"psychoceramics\", the supposed study of \"cracked pots\". See his Wikipedia entry for more details.","7":"ionian philology"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Rather than having 1 observation of 11 variables, the data frame now has 2 observations of 7 variables. We know why there are two observations (because there are 2 keywords), but why are there fewer variables? Because there is an argument to <code>unnest()</code> called <code>.drop</code>, which is set to <code>TRUE</code> by default, meaning all additional list columns will be dropped. If you want to keep them, just set it to <code>FALSE</code> Note, however, that it will not unnest them.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1">carberry_keywords &lt;-<span class="st"> </span>carberry_data <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb31-2" data-line-number="2"><span class="st">  </span>tidyr<span class="op">::</span><span class="kw">unnest</span>(keywords, <span class="dt">.drop =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb31-3" data-line-number="3">carberry_keywords</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["created_date"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["given_name"],"name":[2],"type":["chr"],"align":["left"]},{"label":["family_name"],"name":[3],"type":["chr"],"align":["left"]},{"label":["credit_name"],"name":[4],"type":["chr"],"align":["left"]},{"label":["other_names"],"name":[5],"type":["list"],"align":["right"]},{"label":["orcid_identifier_path"],"name":[6],"type":["chr"],"align":["left"]},{"label":["biography"],"name":[7],"type":["chr"],"align":["left"]},{"label":["researcher_urls"],"name":[8],"type":["list"],"align":["right"]},{"label":["emails"],"name":[9],"type":["list"],"align":["right"]},{"label":["external_ids"],"name":[10],"type":["list"],"align":["right"]},{"label":["keywords"],"name":[11],"type":["chr"],"align":["left"]}],"data":[{"1":"1.460758e+12","2":"Josiah","3":"Carberry","4":"NA","5":"<chr [3]>","6":"0000-0002-1825-0097","7":"Josiah Carberry is a fictitious person. This account is used as a demonstration account by ORCID, CrossRef and others who wish to demonstrate the interaction of ORCID with other scholarly communication systems without having to use a real-person's account.\\r\\n\\r\\nJosiah Stinkney Carberry is a fictional professor, created as a joke in 1929. He is said to still teach at Brown University, and to be known for his work in \"psychoceramics\", the supposed study of \"cracked pots\". See his Wikipedia entry for more details.","8":"<data.frame [2 × 13]>","9":"<chr [1]>","10":"<data.frame [1 × 15]>","11":"psychoceramics"},{"1":"1.460758e+12","2":"Josiah","3":"Carberry","4":"NA","5":"<chr [3]>","6":"0000-0002-1825-0097","7":"Josiah Carberry is a fictitious person. This account is used as a demonstration account by ORCID, CrossRef and others who wish to demonstrate the interaction of ORCID with other scholarly communication systems without having to use a real-person's account.\\r\\n\\r\\nJosiah Stinkney Carberry is a fictional professor, created as a joke in 1929. He is said to still teach at Brown University, and to be known for his work in \"psychoceramics\", the supposed study of \"cracked pots\". See his Wikipedia entry for more details.","8":"<data.frame [2 × 13]>","9":"<chr [1]>","10":"<data.frame [1 × 15]>","11":"ionian philology"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>You can unnest multiple nested columns, but keep in mind that this will multiply the duplicated columns in your data frame, because there will be it is spreading the key-value pairs across multiple columns. For more on wide and long data, read Hadley Wickham’s paper <a href="https://vita.had.co.nz/papers/tidy-data.html">“Tidy data,”</a> published in <em>The Journal of Statistical Software.</em></p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1">carberry_keywords_otherNames &lt;-<span class="st"> </span>carberry_data <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb32-2" data-line-number="2"><span class="st">  </span>tidyr<span class="op">::</span><span class="kw">unnest</span>(keywords, <span class="dt">.drop =</span> <span class="ot">FALSE</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb32-3" data-line-number="3"><span class="st">  </span>tidyr<span class="op">::</span><span class="kw">unnest</span>(other_names, <span class="dt">.drop =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb32-4" data-line-number="4">carberry_keywords_otherNames</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["created_date"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["given_name"],"name":[2],"type":["chr"],"align":["left"]},{"label":["family_name"],"name":[3],"type":["chr"],"align":["left"]},{"label":["credit_name"],"name":[4],"type":["chr"],"align":["left"]},{"label":["orcid_identifier_path"],"name":[5],"type":["chr"],"align":["left"]},{"label":["biography"],"name":[6],"type":["chr"],"align":["left"]},{"label":["researcher_urls"],"name":[7],"type":["list"],"align":["right"]},{"label":["emails"],"name":[8],"type":["list"],"align":["right"]},{"label":["external_ids"],"name":[9],"type":["list"],"align":["right"]},{"label":["keywords"],"name":[10],"type":["chr"],"align":["left"]},{"label":["other_names"],"name":[11],"type":["chr"],"align":["left"]}],"data":[{"1":"1.460758e+12","2":"Josiah","3":"Carberry","4":"NA","5":"0000-0002-1825-0097","6":"Josiah Carberry is a fictitious person. This account is used as a demonstration account by ORCID, CrossRef and others who wish to demonstrate the interaction of ORCID with other scholarly communication systems without having to use a real-person's account.\\r\\n\\r\\nJosiah Stinkney Carberry is a fictional professor, created as a joke in 1929. He is said to still teach at Brown University, and to be known for his work in \"psychoceramics\", the supposed study of \"cracked pots\". See his Wikipedia entry for more details.","7":"<data.frame [2 × 13]>","8":"<chr [1]>","9":"<data.frame [1 × 15]>","10":"psychoceramics","11":"Josiah Stinkney Carberry"},{"1":"1.460758e+12","2":"Josiah","3":"Carberry","4":"NA","5":"0000-0002-1825-0097","6":"Josiah Carberry is a fictitious person. This account is used as a demonstration account by ORCID, CrossRef and others who wish to demonstrate the interaction of ORCID with other scholarly communication systems without having to use a real-person's account.\\r\\n\\r\\nJosiah Stinkney Carberry is a fictional professor, created as a joke in 1929. He is said to still teach at Brown University, and to be known for his work in \"psychoceramics\", the supposed study of \"cracked pots\". See his Wikipedia entry for more details.","7":"<data.frame [2 × 13]>","8":"<chr [1]>","9":"<data.frame [1 × 15]>","10":"psychoceramics","11":"J. Carberry"},{"1":"1.460758e+12","2":"Josiah","3":"Carberry","4":"NA","5":"0000-0002-1825-0097","6":"Josiah Carberry is a fictitious person. This account is used as a demonstration account by ORCID, CrossRef and others who wish to demonstrate the interaction of ORCID with other scholarly communication systems without having to use a real-person's account.\\r\\n\\r\\nJosiah Stinkney Carberry is a fictional professor, created as a joke in 1929. He is said to still teach at Brown University, and to be known for his work in \"psychoceramics\", the supposed study of \"cracked pots\". See his Wikipedia entry for more details.","7":"<data.frame [2 × 13]>","8":"<chr [1]>","9":"<data.frame [1 × 15]>","10":"psychoceramics","11":"J. S. Carberry"},{"1":"1.460758e+12","2":"Josiah","3":"Carberry","4":"NA","5":"0000-0002-1825-0097","6":"Josiah Carberry is a fictitious person. This account is used as a demonstration account by ORCID, CrossRef and others who wish to demonstrate the interaction of ORCID with other scholarly communication systems without having to use a real-person's account.\\r\\n\\r\\nJosiah Stinkney Carberry is a fictional professor, created as a joke in 1929. He is said to still teach at Brown University, and to be known for his work in \"psychoceramics\", the supposed study of \"cracked pots\". See his Wikipedia entry for more details.","7":"<data.frame [2 × 13]>","8":"<chr [1]>","9":"<data.frame [1 × 15]>","10":"ionian philology","11":"Josiah Stinkney Carberry"},{"1":"1.460758e+12","2":"Josiah","3":"Carberry","4":"NA","5":"0000-0002-1825-0097","6":"Josiah Carberry is a fictitious person. This account is used as a demonstration account by ORCID, CrossRef and others who wish to demonstrate the interaction of ORCID with other scholarly communication systems without having to use a real-person's account.\\r\\n\\r\\nJosiah Stinkney Carberry is a fictional professor, created as a joke in 1929. He is said to still teach at Brown University, and to be known for his work in \"psychoceramics\", the supposed study of \"cracked pots\". See his Wikipedia entry for more details.","7":"<data.frame [2 × 13]>","8":"<chr [1]>","9":"<data.frame [1 × 15]>","10":"ionian philology","11":"J. Carberry"},{"1":"1.460758e+12","2":"Josiah","3":"Carberry","4":"NA","5":"0000-0002-1825-0097","6":"Josiah Carberry is a fictitious person. This account is used as a demonstration account by ORCID, CrossRef and others who wish to demonstrate the interaction of ORCID with other scholarly communication systems without having to use a real-person's account.\\r\\n\\r\\nJosiah Stinkney Carberry is a fictional professor, created as a joke in 1929. He is said to still teach at Brown University, and to be known for his work in \"psychoceramics\", the supposed study of \"cracked pots\". See his Wikipedia entry for more details.","7":"<data.frame [2 × 13]>","8":"<chr [1]>","9":"<data.frame [1 × 15]>","10":"ionian philology","11":"J. S. Carberry"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>When we unnest <em>researcher_urls</em> or <em>external_ids</em>, we will see many more columns added. That is because each of these nested lists contains multiple variables:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1">carberry_researcherURLs &lt;-<span class="st"> </span>carberry_data <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb33-2" data-line-number="2"><span class="st">  </span>tidyr<span class="op">::</span><span class="kw">unnest</span>(researcher_urls, <span class="dt">.drop =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb33-3" data-line-number="3">carberry_researcherURLs</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["created_date"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["given_name"],"name":[2],"type":["chr"],"align":["left"]},{"label":["family_name"],"name":[3],"type":["chr"],"align":["left"]},{"label":["credit_name"],"name":[4],"type":["chr"],"align":["left"]},{"label":["other_names"],"name":[5],"type":["list"],"align":["right"]},{"label":["orcid_identifier_path"],"name":[6],"type":["chr"],"align":["left"]},{"label":["biography"],"name":[7],"type":["chr"],"align":["left"]},{"label":["emails"],"name":[8],"type":["list"],"align":["right"]},{"label":["keywords"],"name":[9],"type":["list"],"align":["right"]},{"label":["external_ids"],"name":[10],"type":["list"],"align":["right"]},{"label":["url-name"],"name":[11],"type":["chr"],"align":["left"]},{"label":["visibility"],"name":[12],"type":["chr"],"align":["left"]},{"label":["path"],"name":[13],"type":["chr"],"align":["left"]},{"label":["put-code"],"name":[14],"type":["int"],"align":["right"]},{"label":["display-index"],"name":[15],"type":["int"],"align":["right"]},{"label":["created-date.value"],"name":[16],"type":["dbl"],"align":["right"]},{"label":["last-modified-date.value"],"name":[17],"type":["dbl"],"align":["right"]},{"label":["source.source-client-id"],"name":[18],"type":["lgl"],"align":["right"]},{"label":["source.source-orcid.uri"],"name":[19],"type":["chr"],"align":["left"]},{"label":["source.source-orcid.path"],"name":[20],"type":["chr"],"align":["left"]},{"label":["source.source-orcid.host"],"name":[21],"type":["chr"],"align":["left"]},{"label":["source.source-name.value"],"name":[22],"type":["chr"],"align":["left"]},{"label":["url.value"],"name":[23],"type":["chr"],"align":["left"]}],"data":[{"1":"1.460758e+12","2":"Josiah","3":"Carberry","4":"NA","5":"<chr [3]>","6":"0000-0002-1825-0097","7":"Josiah Carberry is a fictitious person. This account is used as a demonstration account by ORCID, CrossRef and others who wish to demonstrate the interaction of ORCID with other scholarly communication systems without having to use a real-person's account.\\r\\n\\r\\nJosiah Stinkney Carberry is a fictional professor, created as a joke in 1929. He is said to still teach at Brown University, and to be known for his work in \"psychoceramics\", the supposed study of \"cracked pots\". See his Wikipedia entry for more details.","8":"<chr [1]>","9":"<chr [2]>","10":"<data.frame [1 × 15]>","11":"Brown University Page","12":"PUBLIC","13":"/0000-0002-1825-0097/researcher-urls/568395","14":"568395","15":"2","16":"1.446663e+12","17":"1.462158e+12","18":"NA","19":"https://orcid.org/0000-0002-1825-0097","20":"0000-0002-1825-0097","21":"orcid.org","22":"Josiah Carberry","23":"http://library.brown.edu/about/hay/carberry.php"},{"1":"1.460758e+12","2":"Josiah","3":"Carberry","4":"NA","5":"<chr [3]>","6":"0000-0002-1825-0097","7":"Josiah Carberry is a fictitious person. This account is used as a demonstration account by ORCID, CrossRef and others who wish to demonstrate the interaction of ORCID with other scholarly communication systems without having to use a real-person's account.\\r\\n\\r\\nJosiah Stinkney Carberry is a fictional professor, created as a joke in 1929. He is said to still teach at Brown University, and to be known for his work in \"psychoceramics\", the supposed study of \"cracked pots\". See his Wikipedia entry for more details.","8":"<chr [1]>","9":"<chr [2]>","10":"<data.frame [1 × 15]>","11":"Wikipedia Entry","12":"PUBLIC","13":"/0000-0002-1825-0097/researcher-urls/568394","14":"568394","15":"1","16":"1.446663e+12","17":"1.462158e+12","18":"NA","19":"https://orcid.org/0000-0002-1825-0097","20":"0000-0002-1825-0097","21":"orcid.org","22":"Josiah Carberry","23":"http://en.wikipedia.org/wiki/Josiah_Carberry"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Carberry has two URLs: his Wikipedia page and a page about him on the Brown University Library. So a row is created for each of these URLs, and multiple columns are added such as the last modified date, the url value, and so on. You can keep or remove columns you don’t want using <code>select()</code> from the <code>dplyr</code> package.</p>
</div>
</div>
<div id="writing-to-csv" class="section level1">
<h1><span class="header-section-number">5</span> Writing to CSV</h1>
<p>We will use the <code>write_csv()</code> function from the <code>readr</code> package to write our data to disk. This package was loaded when you called <code>library(tidyverse)</code> at the beginning of the session.</p>
<p>Unfortunately, you cannot simply write the <code>carberry_data</code> data frame to a CSV, due to the nested lists. It will throw an error: <code>&quot;Error in stream_delim_(df, path, ...) : Don't know how to handle vector of type list.&quot;</code></p>
<p>You have a few choices:</p>
<ol style="list-style-type: decimal">
<li>You can unnest one of the columns and leave <code>.drop</code> set to <code>TRUE</code>. This will add rows for all the values in the nested lists, and drop the additional nested lists. Replace “MyUserName” below with your actual user name to write this file to your desktop. You can get your username by calling <code>Sys.getenv(&quot;USERNAME&quot;)</code>.</li>
</ol>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" data-line-number="1">carberry_keywords &lt;-<span class="st"> </span>carberry_data <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb34-2" data-line-number="2"><span class="st">  </span>tidyr<span class="op">::</span><span class="kw">unnest</span>(keywords)</a>
<a class="sourceLine" id="cb34-3" data-line-number="3"><span class="kw">write_csv</span>(carberry_keywords, <span class="st">&quot;C:/Users/MyUserName/Desktop/carberry_data1.csv&quot;</span>)</a></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>You can drop the nested lists altogether using a combination of <code>select_if()</code> from <code>dplyr</code> and <code>negate()</code> from <code>purrr</code> to drop all lists in the data frame.</li>
</ol>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1">carberry_data_short &lt;-<span class="st"> </span>carberry_data <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb35-2" data-line-number="2"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select_if</span>(purrr<span class="op">::</span><span class="kw">negate</span>(is.list))</a></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>You can use <code>mutate()</code> from <code>dplyr</code> to coerce the list columns into character vectors:</li>
</ol>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" data-line-number="1">carberry_data_mutated &lt;-<span class="st"> </span>carberry_data <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb36-2" data-line-number="2"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">keywords =</span> <span class="kw">as.character</span>(keywords)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb36-3" data-line-number="3"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">other_names =</span> <span class="kw">as.character</span>(other_names)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb36-4" data-line-number="4"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">researcher_urls =</span> <span class="kw">as.character</span>(<span class="kw">map</span>(carberry_data<span class="op">$</span>researcher_urls, purrr<span class="op">::</span>pluck, <span class="st">&quot;url.value&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>))) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb36-5" data-line-number="5"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">external_ids =</span> <span class="kw">as.character</span>(<span class="kw">map</span>(carberry_data<span class="op">$</span>external_ids, purrr<span class="op">::</span>pluck, <span class="st">&quot;external-id-url.value&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>)))</a>
<a class="sourceLine" id="cb36-6" data-line-number="6"><span class="kw">write_csv</span>(carberry_data_mutated, <span class="st">&quot;C:/Users/MyUserName/Desktop/carberry_data2.csv&quot;</span>)</a></code></pre></div>
</div>
<div id="getting-data-on-multiple-people-with-orcid_person" class="section level1">
<h1><span class="header-section-number">6</span> Getting data on multiple people with <code>orcid_person()</code></h1>
<div id="searching-by-oricid-ids" class="section level2">
<h2><span class="header-section-number">6.1</span> Searching by ORICID iDs</h2>
<p><code>orcid_person()</code> is vectorized, so you can pass in multiple ORICID iDs and it will return a list of results for each ID, with each element named by the ORICID iD.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" data-line-number="1">my_orcids &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;0000-0002-1825-0097&quot;</span>, <span class="st">&quot;0000-0002-9260-8456&quot;</span>)</a>
<a class="sourceLine" id="cb37-2" data-line-number="2">my_orcid_person &lt;-<span class="st"> </span>rorcid<span class="op">::</span><span class="kw">orcid_person</span>(my_orcids)</a>
<a class="sourceLine" id="cb37-3" data-line-number="3">listviewer<span class="op">::</span><span class="kw">jsonedit</span>(my_orcid_person)</a></code></pre></div>
<div id="htmlwidget-89c6e7e157e7cb02c68a" style="width:672px;height:480px;" class="jsonedit html-widget"></div>
<script type="application/json" data-for="htmlwidget-89c6e7e157e7cb02c68a">{"x":{"data":{"0000-0002-1825-0097":{"last-modified-date":{"value":1494016313820},"name":{"created-date":{"value":1460757617078},"last-modified-date":{"value":1504850007188},"given-names":{"value":"Josiah"},"family-name":{"value":"Carberry"},"credit-name":[],"source":[],"visibility":"PUBLIC","path":"0000-0002-1825-0097"},"other-names":{"last-modified-date":{"value":1462157547720},"other-name":{"content":["Josiah Stinkney Carberry","J. Carberry","J. S. Carberry"],"visibility":["PUBLIC","PUBLIC","PUBLIC"],"path":["/0000-0002-1825-0097/other-names/732317","/0000-0002-1825-0097/other-names/565981","/0000-0002-1825-0097/other-names/732318"],"put-code":[732317,565981,732318],"display-index":[3,2,1],"created-date.value":[1462157351411,1446663146889,1462157351418],"last-modified-date.value":[1462157547720,1462157547720,1462157547720],"source.source-client-id":[null,null,null],"source.source-orcid.uri":["https://orcid.org/0000-0002-1825-0097","https://orcid.org/0000-0002-1825-0097","https://orcid.org/0000-0002-1825-0097"],"source.source-orcid.path":["0000-0002-1825-0097","0000-0002-1825-0097","0000-0002-1825-0097"],"source.source-orcid.host":["orcid.org","orcid.org","orcid.org"],"source.source-name.value":["Josiah Carberry","Josiah Carberry","Josiah Carberry"]},"path":"/0000-0002-1825-0097/other-names"},"biography":{"created-date":{"value":1460757617080},"last-modified-date":{"value":1460757617080},"content":"Josiah Carberry is a fictitious person. This account is used as a demonstration account by ORCID, CrossRef and others who wish to demonstrate the interaction of ORCID with other scholarly communication systems without having to use a real-person's account.\r\n\r\nJosiah Stinkney Carberry is a fictional professor, created as a joke in 1929. He is said to still teach at Brown University, and to be known for his work in \"psychoceramics\", the supposed study of \"cracked pots\". See his Wikipedia entry for more details.","visibility":"PUBLIC","path":"/0000-0002-1825-0097/biography"},"researcher-urls":{"last-modified-date":{"value":1462157645967},"researcher-url":{"url-name":["Brown University Page","Wikipedia Entry"],"visibility":["PUBLIC","PUBLIC"],"path":["/0000-0002-1825-0097/researcher-urls/568395","/0000-0002-1825-0097/researcher-urls/568394"],"put-code":[568395,568394],"display-index":[2,1],"created-date.value":[1446663146890,1446663146889],"last-modified-date.value":[1462157645967,1462157645967],"source.source-client-id":[null,null],"source.source-orcid.uri":["https://orcid.org/0000-0002-1825-0097","https://orcid.org/0000-0002-1825-0097"],"source.source-orcid.path":["0000-0002-1825-0097","0000-0002-1825-0097"],"source.source-orcid.host":["orcid.org","orcid.org"],"source.source-name.value":["Josiah Carberry","Josiah Carberry"],"url.value":["http://library.brown.edu/about/hay/carberry.php","http://en.wikipedia.org/wiki/Josiah_Carberry"]},"path":"/0000-0002-1825-0097/researcher-urls"},"emails":{"last-modified-date":[],"email":[],"path":"/0000-0002-1825-0097/email"},"addresses":{"last-modified-date":[],"address":[],"path":"/0000-0002-1825-0097/address"},"keywords":{"last-modified-date":{"value":1462157635636},"keyword":{"content":["psychoceramics","ionian philology"],"visibility":["PUBLIC","PUBLIC"],"path":["/0000-0002-1825-0097/keywords/434187","/0000-0002-1825-0097/keywords/434184"],"put-code":[434187,434184],"display-index":[3,2],"created-date.value":[1462157617244,1462157414545],"last-modified-date.value":[1462157635636,1462157635636],"source.source-client-id":[null,null],"source.source-orcid.uri":["https://orcid.org/0000-0002-1825-0097","https://orcid.org/0000-0002-1825-0097"],"source.source-orcid.path":["0000-0002-1825-0097","0000-0002-1825-0097"],"source.source-orcid.host":["orcid.org","orcid.org"],"source.source-name.value":["Josiah Carberry","Josiah Carberry"]},"path":"/0000-0002-1825-0097/keywords"},"external-identifiers":{"last-modified-date":{"value":1494016313820},"external-identifier":{"external-id-type":"Scopus Author ID","external-id-value":"7007156898","external-id-relationship":"SELF","visibility":"PUBLIC","path":"/0000-0002-1825-0097/external-identifiers/698979","put-code":698979,"display-index":0,"created-date.value":1494016313820,"last-modified-date.value":1494016313820,"source.source-orcid":null,"source.source-client-id.uri":"https://orcid.org/client/0000-0002-5982-8983","source.source-client-id.path":"0000-0002-5982-8983","source.source-client-id.host":"orcid.org","source.source-name.value":"Scopus - Elsevier","external-id-url.value":"http://www.scopus.com/inward/authorDetails.url?authorID=7007156898&partnerID=MN8TOARS"},"path":"/0000-0002-1825-0097/external-identifiers"},"path":"/0000-0002-1825-0097/person"},"0000-0002-9260-8456":{"last-modified-date":{"value":1556299008683},"name":{"created-date":{"value":1460762361127},"last-modified-date":{"value":1460762361127},"given-names":{"value":"Clarke"},"family-name":{"value":"Iakovakis"},"credit-name":[],"source":[],"visibility":"PUBLIC","path":"0000-0002-9260-8456"},"other-names":{"last-modified-date":{"value":1556299008683},"other-name":{"content":["Clarke L. Iakovakis","C. Iakovakis","C.L. Iakovakis"],"visibility":["PUBLIC","PUBLIC","PUBLIC"],"path":["/0000-0002-9260-8456/other-names/1237117","/0000-0002-9260-8456/other-names/1237118","/0000-0002-9260-8456/other-names/1237151"],"put-code":[1237117,1237118,1237151],"display-index":[3,2,1],"created-date.value":[1556293709558,1556293709561,1556299008681],"last-modified-date.value":[1556299008683,1556299008683,1556299008681],"source.source-client-id":[null,null,null],"source.source-orcid.uri":["https://orcid.org/0000-0002-9260-8456","https://orcid.org/0000-0002-9260-8456","https://orcid.org/0000-0002-9260-8456"],"source.source-orcid.path":["0000-0002-9260-8456","0000-0002-9260-8456","0000-0002-9260-8456"],"source.source-orcid.host":["orcid.org","orcid.org","orcid.org"],"source.source-name.value":["Clarke Iakovakis","Clarke Iakovakis","Clarke Iakovakis"]},"path":"/0000-0002-9260-8456/other-names"},"biography":{"created-date":{"value":1556226971959},"last-modified-date":{"value":1556226971959},"content":"I am the Scholarly Services Librarian at Oklahoma State University. I received my MS in Information Studies from the University of Texas at Austin, and my BA in History from Texas State University.","visibility":"PUBLIC","path":"/0000-0002-9260-8456/biography"},"researcher-urls":{"last-modified-date":{"value":1556293746865},"researcher-url":{"url-name":["figshare page","Oklahoma State University profile","Google Scholar Profile"],"visibility":["PUBLIC","PUBLIC","PUBLIC"],"path":["/0000-0002-9260-8456/researcher-urls/1719866","/0000-0002-9260-8456/researcher-urls/1719867","/0000-0002-9260-8456/researcher-urls/1719868"],"put-code":[1719866,1719867,1719868],"display-index":[3,2,1],"created-date.value":[1556293653296,1556293680922,1556293746863],"last-modified-date.value":[1556293746865,1556293746865,1556293746863],"source.source-client-id":[null,null,null],"source.source-orcid.uri":["https://orcid.org/0000-0002-9260-8456","https://orcid.org/0000-0002-9260-8456","https://orcid.org/0000-0002-9260-8456"],"source.source-orcid.path":["0000-0002-9260-8456","0000-0002-9260-8456","0000-0002-9260-8456"],"source.source-orcid.host":["orcid.org","orcid.org","orcid.org"],"source.source-name.value":["Clarke Iakovakis","Clarke Iakovakis","Clarke Iakovakis"],"url.value":["https://figshare.com/authors/Clarke_Iakovakis/3990140","https://info.library.okstate.edu/clarke-iakovakis","https://scholar.google.com/citations?user=V9m2_IAAAAAJ&hl=en&oi=sra"]},"path":"/0000-0002-9260-8456/researcher-urls"},"emails":{"last-modified-date":[],"email":[],"path":"/0000-0002-9260-8456/email"},"addresses":{"last-modified-date":{"value":1465226976952},"address":{"visibility":"PUBLIC","path":"/0000-0002-9260-8456/address/338203","put-code":338203,"display-index":0,"created-date.value":1453660378174,"last-modified-date.value":1465226976952,"source.source-client-id":null,"source.source-orcid.uri":"https://orcid.org/0000-0002-9260-8456","source.source-orcid.path":"0000-0002-9260-8456","source.source-orcid.host":"orcid.org","source.source-name.value":"Clarke Iakovakis","country.value":"US"},"path":"/0000-0002-9260-8456/address"},"keywords":{"last-modified-date":{"value":1556293631997},"keyword":{"content":["open access","scholarly communications","librarianship"],"visibility":["PUBLIC","PUBLIC","PUBLIC"],"path":["/0000-0002-9260-8456/keywords/1249281","/0000-0002-9260-8456/keywords/1249282","/0000-0002-9260-8456/keywords/1249283"],"put-code":[1249281,1249282,1249283],"display-index":[4,3,2],"created-date.value":[1556293631992,1556293631996,1556293631997],"last-modified-date.value":[1556293631992,1556293631996,1556293631997],"source.source-client-id":[null,null,null],"source.source-orcid.uri":["https://orcid.org/0000-0002-9260-8456","https://orcid.org/0000-0002-9260-8456","https://orcid.org/0000-0002-9260-8456"],"source.source-orcid.path":["0000-0002-9260-8456","0000-0002-9260-8456","0000-0002-9260-8456"],"source.source-orcid.host":["orcid.org","orcid.org","orcid.org"],"source.source-name.value":["Clarke Iakovakis","Clarke Iakovakis","Clarke Iakovakis"]},"path":"/0000-0002-9260-8456/keywords"},"external-identifiers":{"last-modified-date":[],"external-identifier":[],"path":"/0000-0002-9260-8456/external-identifiers"},"path":"/0000-0002-9260-8456/person"}},"options":{"mode":"tree","modes":["code","form","text","tree","view"]}},"evals":[],"jsHooks":[]}</script>
<p>We see that we are given a list of 2, each containing the person data. We can put this into a data frame using the same code as above.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" data-line-number="1">my_orcid_person_data &lt;-<span class="st"> </span>my_orcid_person <span class="op">%&gt;%</span><span class="st"> </span>{</a>
<a class="sourceLine" id="cb38-2" data-line-number="2">    <span class="kw">tibble</span>(</a>
<a class="sourceLine" id="cb38-3" data-line-number="3">      <span class="dt">created_date =</span> purrr<span class="op">::</span><span class="kw">map_dbl</span>(., purrr<span class="op">::</span>pluck, <span class="st">&quot;name&quot;</span>, <span class="st">&quot;created-date&quot;</span>, <span class="st">&quot;value&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>),</a>
<a class="sourceLine" id="cb38-4" data-line-number="4">      <span class="dt">given_name =</span> purrr<span class="op">::</span><span class="kw">map_chr</span>(., purrr<span class="op">::</span>pluck, <span class="st">&quot;name&quot;</span>, <span class="st">&quot;given-names&quot;</span>, <span class="st">&quot;value&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>),</a>
<a class="sourceLine" id="cb38-5" data-line-number="5">      <span class="dt">family_name =</span> purrr<span class="op">::</span><span class="kw">map_chr</span>(., purrr<span class="op">::</span>pluck, <span class="st">&quot;name&quot;</span>, <span class="st">&quot;family-name&quot;</span>, <span class="st">&quot;value&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>),</a>
<a class="sourceLine" id="cb38-6" data-line-number="6">      <span class="dt">credit_name =</span> purrr<span class="op">::</span><span class="kw">map_chr</span>(., purrr<span class="op">::</span>pluck, <span class="st">&quot;name&quot;</span>, <span class="st">&quot;credit-name&quot;</span>, <span class="st">&quot;value&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>),</a>
<a class="sourceLine" id="cb38-7" data-line-number="7">      <span class="dt">other_names =</span> purrr<span class="op">::</span><span class="kw">map</span>(., purrr<span class="op">::</span>pluck, <span class="st">&quot;other-names&quot;</span>, <span class="st">&quot;other-name&quot;</span>, <span class="st">&quot;content&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>),</a>
<a class="sourceLine" id="cb38-8" data-line-number="8">      <span class="dt">orcid_identifier_path =</span> purrr<span class="op">::</span><span class="kw">map_chr</span>(., purrr<span class="op">::</span>pluck, <span class="st">&quot;name&quot;</span>, <span class="st">&quot;path&quot;</span>, <span class="dt">.default =</span> <span class="ot">NA_character_</span>),</a>
<a class="sourceLine" id="cb38-9" data-line-number="9">      <span class="dt">biography =</span> purrr<span class="op">::</span><span class="kw">map_chr</span>(., purrr<span class="op">::</span>pluck, <span class="st">&quot;biography&quot;</span>, <span class="st">&quot;content&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>),</a>
<a class="sourceLine" id="cb38-10" data-line-number="10">      <span class="dt">researcher_urls =</span> purrr<span class="op">::</span><span class="kw">map</span>(., purrr<span class="op">::</span>pluck, <span class="st">&quot;researcher-urls&quot;</span>, <span class="st">&quot;researcher-url&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>),</a>
<a class="sourceLine" id="cb38-11" data-line-number="11">      <span class="dt">emails =</span> purrr<span class="op">::</span><span class="kw">map</span>(., purrr<span class="op">::</span>pluck, <span class="st">&quot;emails&quot;</span>, <span class="st">&quot;email&quot;</span>, <span class="st">&quot;email&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>),</a>
<a class="sourceLine" id="cb38-12" data-line-number="12">      <span class="dt">keywords =</span> purrr<span class="op">::</span><span class="kw">map</span>(., purrr<span class="op">::</span>pluck, <span class="st">&quot;keywords&quot;</span>, <span class="st">&quot;keyword&quot;</span>, <span class="st">&quot;content&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>),</a>
<a class="sourceLine" id="cb38-13" data-line-number="13">      <span class="dt">external_ids =</span> purrr<span class="op">::</span><span class="kw">map</span>(., purrr<span class="op">::</span>pluck, <span class="st">&quot;external-identifiers&quot;</span>, <span class="st">&quot;external-identifier&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>)</a>
<a class="sourceLine" id="cb38-14" data-line-number="14">    )} <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb38-15" data-line-number="15"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">created_date =</span> anytime<span class="op">::</span><span class="kw">anydate</span>(created_date<span class="op">/</span><span class="dv">1000</span>))</a>
<a class="sourceLine" id="cb38-16" data-line-number="16">my_orcid_person_data</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["created_date"],"name":[1],"type":["date"],"align":["right"]},{"label":["given_name"],"name":[2],"type":["chr"],"align":["left"]},{"label":["family_name"],"name":[3],"type":["chr"],"align":["left"]},{"label":["credit_name"],"name":[4],"type":["chr"],"align":["left"]},{"label":["other_names"],"name":[5],"type":["list"],"align":["right"]},{"label":["orcid_identifier_path"],"name":[6],"type":["chr"],"align":["left"]},{"label":["biography"],"name":[7],"type":["chr"],"align":["left"]},{"label":["researcher_urls"],"name":[8],"type":["list"],"align":["right"]},{"label":["emails"],"name":[9],"type":["list"],"align":["right"]},{"label":["keywords"],"name":[10],"type":["list"],"align":["right"]},{"label":["external_ids"],"name":[11],"type":["list"],"align":["right"]}],"data":[{"1":"2016-04-15","2":"Josiah","3":"Carberry","4":"NA","5":"<chr [3]>","6":"0000-0002-1825-0097","7":"Josiah Carberry is a fictitious person. This account is used as a demonstration account by ORCID, CrossRef and others who wish to demonstrate the interaction of ORCID with other scholarly communication systems without having to use a real-person's account.\\r\\n\\r\\nJosiah Stinkney Carberry is a fictional professor, created as a joke in 1929. He is said to still teach at Brown University, and to be known for his work in \"psychoceramics\", the supposed study of \"cracked pots\". See his Wikipedia entry for more details.","8":"<data.frame [2 × 13]>","9":"<chr [1]>","10":"<chr [2]>","11":"<data.frame [1 × 15]>"},{"1":"2016-04-15","2":"Clarke","3":"Iakovakis","4":"NA","5":"<chr [3]>","6":"0000-0002-9260-8456","7":"I am the Scholarly Services Librarian at Oklahoma State University. I received my MS in Information Studies from the University of Texas at Austin, and my BA in History from Texas State University.","8":"<data.frame [3 × 13]>","9":"<chr [1]>","10":"<chr [3]>","11":"<chr [1]>"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>We now have a nice, neat dataframe of both people’s ORCID name data.</p>
</div>
<div id="searching-by-names" class="section level2">
<h2><span class="header-section-number">6.2</span> Searching by names</h2>
<p>When we want data on multiple people and have only their names, we can build a query. Let’s first do this if the names are not already separated into first and last name variables. If you already have a spreadsheet of names, then you can skip this step.</p>
<p>First, create a tibble using the <code>tibble()</code> function from the <code>dplyr</code> package. This is preferable to the <code>data.frame</code> function in base R. Then, use the <code>extract()</code> function from <code>tidyr</code>, along with some regular expressions, to create a first and last name variable:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" data-line-number="1">my_names &lt;-<span class="st"> </span><span class="kw">tibble</span>(<span class="st">&quot;name&quot;</span> =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Josiah Carberry&quot;</span>, <span class="st">&quot;Clarke Iakovakis&quot;</span>))</a>
<a class="sourceLine" id="cb39-2" data-line-number="2">profs &lt;-<span class="st"> </span>my_names <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb39-3" data-line-number="3"><span class="st">  </span>tidyr<span class="op">::</span><span class="kw">extract</span>(name, <span class="kw">c</span>(<span class="st">&quot;FirstName&quot;</span>, <span class="st">&quot;LastName&quot;</span>), <span class="st">&quot;([^ ]+) (.*)&quot;</span>)</a>
<a class="sourceLine" id="cb39-4" data-line-number="4">profs</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["FirstName"],"name":[1],"type":["chr"],"align":["left"]},{"label":["LastName"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"Josiah","2":"Carberry"},{"1":"Clarke","2":"Iakovakis"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Now we can build a query that will work with the <code>given-names:</code> and <code>family-name:</code> arguments to <code>query</code> in <code>orcid</code> in order to get the ORICID iDs:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" data-line-number="1">orcid_query &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;given-names:&quot;</span>,</a>
<a class="sourceLine" id="cb40-2" data-line-number="2">                      profs<span class="op">$</span>FirstName,</a>
<a class="sourceLine" id="cb40-3" data-line-number="3">                      <span class="st">&quot; AND family-name:&quot;</span>,</a>
<a class="sourceLine" id="cb40-4" data-line-number="4">                      profs<span class="op">$</span>LastName)</a>
<a class="sourceLine" id="cb40-5" data-line-number="5">orcid_query</a></code></pre></div>
<pre><code>## [1] &quot;given-names:Josiah AND family-name:Carberry&quot; 
## [2] &quot;given-names:Clarke AND family-name:Iakovakis&quot;</code></pre>
<p>This returns a vector with two queries formatted for nice insertion into <code>rorcid::orcid()</code>. We can use <code>purr::map()</code> to create a loop. What this is saying is, take each element of <code>orcid_query</code> and run a function with it that prints it to the console and runs <code>rorcid::orcid()</code> on it, then return each result to <code>my_orcids_list().</code> This returns a list of two items. We can then wrap <code>bind_rows()</code> in <code>map_dfr</code> to create a data frame from those list elements.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" data-line-number="1">my_orcids_list &lt;-<span class="st"> </span>purrr<span class="op">::</span><span class="kw">map</span>(</a>
<a class="sourceLine" id="cb42-2" data-line-number="2">  orcid_query,</a>
<a class="sourceLine" id="cb42-3" data-line-number="3">  <span class="cf">function</span>(x) {</a>
<a class="sourceLine" id="cb42-4" data-line-number="4">    <span class="kw">print</span>(x)</a>
<a class="sourceLine" id="cb42-5" data-line-number="5">    orc &lt;-<span class="st"> </span>rorcid<span class="op">::</span><span class="kw">orcid</span>(x)</a>
<a class="sourceLine" id="cb42-6" data-line-number="6">  }) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb42-7" data-line-number="7"><span class="st">    </span>purrr<span class="op">::</span><span class="kw">map_dfr</span>(dplyr<span class="op">::</span>bind_rows) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb42-8" data-line-number="8"><span class="st">  </span>janitor<span class="op">::</span><span class="kw">clean_names</span>()</a></code></pre></div>
<pre><code>## [1] &quot;given-names:Josiah AND family-name:Carberry&quot;
## [1] &quot;given-names:Clarke AND family-name:Iakovakis&quot;</code></pre>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb44-1" data-line-number="1">my_orcids_list</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["orcid_identifier_uri"],"name":[1],"type":["chr"],"align":["left"]},{"label":["orcid_identifier_path"],"name":[2],"type":["chr"],"align":["left"]},{"label":["orcid_identifier_host"],"name":[3],"type":["chr"],"align":["left"]}],"data":[{"1":"https://orcid.org/0000-0002-1825-0097","2":"0000-0002-1825-0097","3":"orcid.org"},{"1":"https://orcid.org/0000-0002-1028-6941","2":"0000-0002-1028-6941","3":"orcid.org"},{"1":"https://orcid.org/0000-0002-9260-8456","2":"0000-0002-9260-8456","3":"orcid.org"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>First we want to remove the Carberry row that we don’t want. We can do this using the <code>filter()</code> function from <code>dplyr</code> and the <code>!=</code> symbol, which is equivalent to “is not equal to.”</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb45-1" data-line-number="1">my_orcids_list &lt;-<span class="st"> </span>my_orcids_list <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb45-2" data-line-number="2"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">filter</span>(orcid_identifier_path <span class="op">!=</span><span class="st"> &quot;0000-0002-1028-6941&quot;</span>)</a></code></pre></div>
<p>This is a list of two items. , grab the ORICID iDs, and run the same function we ran above in order to get the name data and the IDs into a single data frame.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb46-1" data-line-number="1">my_orcids &lt;-<span class="st"> </span>my_orcids_list<span class="op">$</span>orcid_identifier_path</a>
<a class="sourceLine" id="cb46-2" data-line-number="2">my_orcid_person &lt;-<span class="st"> </span>rorcid<span class="op">::</span><span class="kw">orcid_person</span>(my_orcids)</a>
<a class="sourceLine" id="cb46-3" data-line-number="3">my_orcid_person_data &lt;-<span class="st"> </span>my_orcid_person <span class="op">%&gt;%</span><span class="st"> </span>{</a>
<a class="sourceLine" id="cb46-4" data-line-number="4">    <span class="kw">tibble</span>(</a>
<a class="sourceLine" id="cb46-5" data-line-number="5">      <span class="dt">created_date =</span> purrr<span class="op">::</span><span class="kw">map_dbl</span>(., purrr<span class="op">::</span>pluck, <span class="st">&quot;name&quot;</span>, <span class="st">&quot;created-date&quot;</span>, <span class="st">&quot;value&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>),</a>
<a class="sourceLine" id="cb46-6" data-line-number="6">      <span class="dt">given_name =</span> purrr<span class="op">::</span><span class="kw">map_chr</span>(., purrr<span class="op">::</span>pluck, <span class="st">&quot;name&quot;</span>, <span class="st">&quot;given-names&quot;</span>, <span class="st">&quot;value&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>),</a>
<a class="sourceLine" id="cb46-7" data-line-number="7">      <span class="dt">family_name =</span> purrr<span class="op">::</span><span class="kw">map_chr</span>(., purrr<span class="op">::</span>pluck, <span class="st">&quot;name&quot;</span>, <span class="st">&quot;family-name&quot;</span>, <span class="st">&quot;value&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>),</a>
<a class="sourceLine" id="cb46-8" data-line-number="8">      <span class="dt">credit_name =</span> purrr<span class="op">::</span><span class="kw">map_chr</span>(., purrr<span class="op">::</span>pluck, <span class="st">&quot;name&quot;</span>, <span class="st">&quot;credit-name&quot;</span>, <span class="st">&quot;value&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>),</a>
<a class="sourceLine" id="cb46-9" data-line-number="9">      <span class="dt">other_names =</span> purrr<span class="op">::</span><span class="kw">map</span>(., purrr<span class="op">::</span>pluck, <span class="st">&quot;other-names&quot;</span>, <span class="st">&quot;other-name&quot;</span>, <span class="st">&quot;content&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>),</a>
<a class="sourceLine" id="cb46-10" data-line-number="10">      <span class="dt">orcid_identifier_path =</span> purrr<span class="op">::</span><span class="kw">map_chr</span>(., purrr<span class="op">::</span>pluck, <span class="st">&quot;name&quot;</span>, <span class="st">&quot;path&quot;</span>, <span class="dt">.default =</span> <span class="ot">NA_character_</span>),</a>
<a class="sourceLine" id="cb46-11" data-line-number="11">      <span class="dt">biography =</span> purrr<span class="op">::</span><span class="kw">map_chr</span>(., purrr<span class="op">::</span>pluck, <span class="st">&quot;biography&quot;</span>, <span class="st">&quot;content&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>),</a>
<a class="sourceLine" id="cb46-12" data-line-number="12">      <span class="dt">researcher_urls =</span> purrr<span class="op">::</span><span class="kw">map</span>(., purrr<span class="op">::</span>pluck, <span class="st">&quot;researcher-urls&quot;</span>, <span class="st">&quot;researcher-url&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>),</a>
<a class="sourceLine" id="cb46-13" data-line-number="13">      <span class="dt">emails =</span> purrr<span class="op">::</span><span class="kw">map</span>(., purrr<span class="op">::</span>pluck, <span class="st">&quot;emails&quot;</span>, <span class="st">&quot;email&quot;</span>, <span class="st">&quot;email&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>),</a>
<a class="sourceLine" id="cb46-14" data-line-number="14">      <span class="dt">keywords =</span> purrr<span class="op">::</span><span class="kw">map</span>(., purrr<span class="op">::</span>pluck, <span class="st">&quot;keywords&quot;</span>, <span class="st">&quot;keyword&quot;</span>, <span class="st">&quot;content&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>),</a>
<a class="sourceLine" id="cb46-15" data-line-number="15">      <span class="dt">external_ids =</span> purrr<span class="op">::</span><span class="kw">map</span>(., purrr<span class="op">::</span>pluck, <span class="st">&quot;external-identifiers&quot;</span>, <span class="st">&quot;external-identifier&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>)</a>
<a class="sourceLine" id="cb46-16" data-line-number="16">    )} <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb46-17" data-line-number="17"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">created_date =</span> anytime<span class="op">::</span><span class="kw">anydate</span>(created_date<span class="op">/</span><span class="dv">1000</span>))</a>
<a class="sourceLine" id="cb46-18" data-line-number="18">my_orcid_person_data</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["created_date"],"name":[1],"type":["date"],"align":["right"]},{"label":["given_name"],"name":[2],"type":["chr"],"align":["left"]},{"label":["family_name"],"name":[3],"type":["chr"],"align":["left"]},{"label":["credit_name"],"name":[4],"type":["chr"],"align":["left"]},{"label":["other_names"],"name":[5],"type":["list"],"align":["right"]},{"label":["orcid_identifier_path"],"name":[6],"type":["chr"],"align":["left"]},{"label":["biography"],"name":[7],"type":["chr"],"align":["left"]},{"label":["researcher_urls"],"name":[8],"type":["list"],"align":["right"]},{"label":["emails"],"name":[9],"type":["list"],"align":["right"]},{"label":["keywords"],"name":[10],"type":["list"],"align":["right"]},{"label":["external_ids"],"name":[11],"type":["list"],"align":["right"]}],"data":[{"1":"2016-04-15","2":"Josiah","3":"Carberry","4":"NA","5":"<chr [3]>","6":"0000-0002-1825-0097","7":"Josiah Carberry is a fictitious person. This account is used as a demonstration account by ORCID, CrossRef and others who wish to demonstrate the interaction of ORCID with other scholarly communication systems without having to use a real-person's account.\\r\\n\\r\\nJosiah Stinkney Carberry is a fictional professor, created as a joke in 1929. He is said to still teach at Brown University, and to be known for his work in \"psychoceramics\", the supposed study of \"cracked pots\". See his Wikipedia entry for more details.","8":"<data.frame [2 × 13]>","9":"<chr [1]>","10":"<chr [2]>","11":"<data.frame [1 × 15]>"},{"1":"2016-04-15","2":"Clarke","3":"Iakovakis","4":"NA","5":"<chr [3]>","6":"0000-0002-9260-8456","7":"I am the Scholarly Services Librarian at Oklahoma State University. I received my MS in Information Studies from the University of Texas at Austin, and my BA in History from Texas State University.","8":"<data.frame [3 × 13]>","9":"<chr [1]>","10":"<chr [3]>","11":"<chr [1]>"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>This will be exactly the same thing as we saw above, however we got it from a simple vector of names.</p>
</div>
<div id="unnesting" class="section level2">
<h2><span class="header-section-number">6.3</span> Unnesting</h2>
<p>Again, we can unnest if we wish, knowing we’ll multiply the number of rows even more now, because we have more values. For instance, if we unnest keywords, we’ll now have 5 columns (2 keywords for carberry, and 3 keywords for iakovakis):</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb47-1" data-line-number="1">my_orcid_person_keywords &lt;-<span class="st"> </span>my_orcid_person_data <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb47-2" data-line-number="2"><span class="st">  </span>tidyr<span class="op">::</span><span class="kw">unnest</span>(keywords)</a>
<a class="sourceLine" id="cb47-3" data-line-number="3">my_orcid_person_keywords</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["created_date"],"name":[1],"type":["date"],"align":["right"]},{"label":["given_name"],"name":[2],"type":["chr"],"align":["left"]},{"label":["family_name"],"name":[3],"type":["chr"],"align":["left"]},{"label":["credit_name"],"name":[4],"type":["chr"],"align":["left"]},{"label":["orcid_identifier_path"],"name":[5],"type":["chr"],"align":["left"]},{"label":["biography"],"name":[6],"type":["chr"],"align":["left"]},{"label":["keywords"],"name":[7],"type":["chr"],"align":["left"]}],"data":[{"1":"2016-04-15","2":"Josiah","3":"Carberry","4":"NA","5":"0000-0002-1825-0097","6":"Josiah Carberry is a fictitious person. This account is used as a demonstration account by ORCID, CrossRef and others who wish to demonstrate the interaction of ORCID with other scholarly communication systems without having to use a real-person's account.\\r\\n\\r\\nJosiah Stinkney Carberry is a fictional professor, created as a joke in 1929. He is said to still teach at Brown University, and to be known for his work in \"psychoceramics\", the supposed study of \"cracked pots\". See his Wikipedia entry for more details.","7":"psychoceramics"},{"1":"2016-04-15","2":"Josiah","3":"Carberry","4":"NA","5":"0000-0002-1825-0097","6":"Josiah Carberry is a fictitious person. This account is used as a demonstration account by ORCID, CrossRef and others who wish to demonstrate the interaction of ORCID with other scholarly communication systems without having to use a real-person's account.\\r\\n\\r\\nJosiah Stinkney Carberry is a fictional professor, created as a joke in 1929. He is said to still teach at Brown University, and to be known for his work in \"psychoceramics\", the supposed study of \"cracked pots\". See his Wikipedia entry for more details.","7":"ionian philology"},{"1":"2016-04-15","2":"Clarke","3":"Iakovakis","4":"NA","5":"0000-0002-9260-8456","6":"I am the Scholarly Services Librarian at Oklahoma State University. I received my MS in Information Studies from the University of Texas at Austin, and my BA in History from Texas State University.","7":"open access"},{"1":"2016-04-15","2":"Clarke","3":"Iakovakis","4":"NA","5":"0000-0002-9260-8456","6":"I am the Scholarly Services Librarian at Oklahoma State University. I received my MS in Information Studies from the University of Texas at Austin, and my BA in History from Texas State University.","7":"scholarly communications"},{"1":"2016-04-15","2":"Clarke","3":"Iakovakis","4":"NA","5":"0000-0002-9260-8456","6":"I am the Scholarly Services Librarian at Oklahoma State University. I received my MS in Information Studies from the University of Texas at Austin, and my BA in History from Texas State University.","7":"librarianship"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>We can write this data to CSV using one of the three strategies outlined above. I’ll use #3 and coerce all list columns to character.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb48-1" data-line-number="1">my_orcid_person_data_mutated &lt;-<span class="st"> </span>my_orcid_person_data <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb48-2" data-line-number="2"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">keywords =</span> <span class="kw">as.character</span>(keywords)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb48-3" data-line-number="3"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">other_names =</span> <span class="kw">as.character</span>(other_names)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb48-4" data-line-number="4"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">researcher_urls =</span> <span class="kw">map</span>(my_orcid_person_data<span class="op">$</span>researcher_urls, purrr<span class="op">::</span>pluck, <span class="st">&quot;url.value&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb48-5" data-line-number="5"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">external_ids =</span> <span class="kw">as.character</span>(<span class="kw">map</span>(my_orcid_person_data<span class="op">$</span>external_ids, purrr<span class="op">::</span>pluck, <span class="st">&quot;external-id-url.value&quot;</span>, <span class="dt">.default=</span><span class="ot">NA_character_</span>)))</a>
<a class="sourceLine" id="cb48-6" data-line-number="6"><span class="kw">write_csv</span>(carberry_data_mutated, <span class="st">&quot;C:/Users/MyUserName/Desktop/carberry_data3.csv&quot;</span>)</a></code></pre></div>
</div>
</div>
<div id="getting-works-with-rorcidworks-and-rorcidorcid_works" class="section level1">
<h1><span class="header-section-number">7</span> Getting Works with <code>rorcid::works()</code> and <code>rorcid::orcid_works()</code></h1>
<div id="getting-works-for-an-individual" class="section level2">
<h2><span class="header-section-number">7.1</span> Getting works for an individual</h2>
<p>There are two functions in <code>rorcid</code> to get all of the works associated with an ORICID iD: <code>orcid_works()</code> and <code>works()</code>. The main difference between these is <code>orcid_works()</code> returns a list, with each work as a list item, and each external identifier (e.g. ISSN, DOI) also as a list item. On the other hand, <code>works()</code> returns a nice, neat data frame that can be easily exported to a CSV.</p>
<p>Like <code>orcid_person()</code>, these functions require an ORICID iD, and do not use the query fields we saw with the <code>orcid()</code> function.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb49-1" data-line-number="1">carberry_orcid &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;0000-0002-1825-0097&quot;</span>)</a>
<a class="sourceLine" id="cb49-2" data-line-number="2">carberry_works &lt;-<span class="st"> </span>rorcid<span class="op">::</span><span class="kw">works</span>(carberry_orcid) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb49-3" data-line-number="3"><span class="st">  </span>janitor<span class="op">::</span><span class="kw">clean_names</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb49-4" data-line-number="4"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">created_date_value =</span> anytime<span class="op">::</span><span class="kw">anydate</span>(created_date_value<span class="op">/</span><span class="dv">1000</span>))</a>
<a class="sourceLine" id="cb49-5" data-line-number="5">carberry_works</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["put_code"],"name":[1],"type":["int"],"align":["right"]},{"label":["type"],"name":[2],"type":["chr"],"align":["left"]},{"label":["visibility"],"name":[3],"type":["chr"],"align":["left"]},{"label":["path"],"name":[4],"type":["chr"],"align":["left"]},{"label":["display_index"],"name":[5],"type":["chr"],"align":["left"]},{"label":["created_date_value"],"name":[6],"type":["date"],"align":["right"]},{"label":["last_modified_date_value"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["source_source_orcid_uri"],"name":[8],"type":["chr"],"align":["left"]},{"label":["source_source_orcid_path"],"name":[9],"type":["chr"],"align":["left"]},{"label":["source_source_orcid_host"],"name":[10],"type":["chr"],"align":["left"]},{"label":["source_source_client_id_uri"],"name":[11],"type":["chr"],"align":["left"]},{"label":["source_source_client_id_path"],"name":[12],"type":["chr"],"align":["left"]},{"label":["source_source_client_id_host"],"name":[13],"type":["chr"],"align":["left"]},{"label":["source_source_name_value"],"name":[14],"type":["chr"],"align":["left"]},{"label":["title_subtitle"],"name":[15],"type":["lgl"],"align":["right"]},{"label":["title_translated_title"],"name":[16],"type":["lgl"],"align":["right"]},{"label":["title_title_value"],"name":[17],"type":["chr"],"align":["left"]},{"label":["external_ids_external_id"],"name":[18],"type":["list"],"align":["right"]},{"label":["publication_date_month"],"name":[19],"type":["lgl"],"align":["right"]},{"label":["publication_date_day"],"name":[20],"type":["lgl"],"align":["right"]},{"label":["publication_date_media_type"],"name":[21],"type":["lgl"],"align":["right"]},{"label":["publication_date_year_value"],"name":[22],"type":["chr"],"align":["left"]},{"label":["source_source_client_id"],"name":[23],"type":["lgl"],"align":["right"]},{"label":["source_source_orcid"],"name":[24],"type":["lgl"],"align":["right"]}],"data":[{"1":"9543020","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/9543020","5":"2","6":"2013-08-03","7":"1.494016e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0002-3054-1567","12":"0000-0002-3054-1567","13":"orcid.org","14":"Crossref Metadata Search","15":"NA","16":"NA","17":"A Methodology for the Emulation of Architecture","18":"<data.frame [2 × 4]>","19":"NA","20":"NA","21":"NA","22":"2012","23":"NA","24":"NA"},{"1":"18777963","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/18777963","5":"1","6":"2013-08-02","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"A Methodology for the Emulation of Architecture","18":"<data.frame [1 × 4]>","19":"NA","20":"NA","21":"NA","22":"2012","23":"NA","24":"NA"},{"1":"4562455","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/4562455","5":"0","6":"2013-02-17","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"The Memory Bus Considered Harmful","18":"<data.frame [2 × 4]>","19":"NA","20":"NA","21":"NA","22":"2012","23":"NA","24":"NA"},{"1":"4562454","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/4562454","5":"0","6":"2013-02-17","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"The Impact of Interactive Epistemologies on Cryptography","18":"<data.frame [2 × 4]>","19":"NA","20":"NA","21":"NA","22":"2011","23":"NA","24":"NA"},{"1":"4562453","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/4562453","5":"0","6":"2013-02-17","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"Developing Thin Clients Using Amphibious Epistemologies","18":"<data.frame [2 × 4]>","19":"NA","20":"NA","21":"NA","22":"2008","23":"NA","24":"NA"},{"1":"4562456","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/4562456","5":"0","6":"2013-02-17","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"Toward a Unified Theory of High-Energy Metaphysics: Silly String Theory","18":"<data.frame [2 × 4]>","19":"NA","20":"NA","21":"NA","22":"2008","23":"NA","24":"NA"},{"1":"19980729","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/19980729","5":"0","6":"2015-11-04","7":"1.494016e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0002-5982-8983","12":"0000-0002-5982-8983","13":"orcid.org","14":"Scopus - Elsevier","15":"NA","16":"NA","17":"Bulk and surface plasmons in artificially structured materials","18":"<data.frame [2 × 4]>","19":"NA","20":"NA","21":"NA","22":"1987","23":"NA","24":"NA"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Dr. Carberry has seven works. Because ORCID data can be manually entered, the integrity, completeness, and consistency of this data will sometimes vary.</p>
<p>You can see the <strong>external_ids_external_id</strong> column is actually a nested list, a concept we discussed above. This can be unnested with the <code>tidyr::unnest()</code> function. Just as a single researcher can have multiple identifiers, a single work may also have multiple identifiers (e.g., DOI, ISSN, EID). If that is the case, when this column is unnested, there will be repeating rows for those items.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb50-1" data-line-number="1">carberry_works_ids &lt;-<span class="st"> </span>carberry_works <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb50-2" data-line-number="2"><span class="st">  </span>tidyr<span class="op">::</span><span class="kw">unnest</span>(external_ids_external_id) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb50-3" data-line-number="3"><span class="st">  </span>janitor<span class="op">::</span><span class="kw">clean_names</span>()</a>
<a class="sourceLine" id="cb50-4" data-line-number="4">carberry_works_ids</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["put_code"],"name":[1],"type":["int"],"align":["right"]},{"label":["type"],"name":[2],"type":["chr"],"align":["left"]},{"label":["visibility"],"name":[3],"type":["chr"],"align":["left"]},{"label":["path"],"name":[4],"type":["chr"],"align":["left"]},{"label":["display_index"],"name":[5],"type":["chr"],"align":["left"]},{"label":["created_date_value"],"name":[6],"type":["date"],"align":["right"]},{"label":["last_modified_date_value"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["source_source_orcid_uri"],"name":[8],"type":["chr"],"align":["left"]},{"label":["source_source_orcid_path"],"name":[9],"type":["chr"],"align":["left"]},{"label":["source_source_orcid_host"],"name":[10],"type":["chr"],"align":["left"]},{"label":["source_source_client_id_uri"],"name":[11],"type":["chr"],"align":["left"]},{"label":["source_source_client_id_path"],"name":[12],"type":["chr"],"align":["left"]},{"label":["source_source_client_id_host"],"name":[13],"type":["chr"],"align":["left"]},{"label":["source_source_name_value"],"name":[14],"type":["chr"],"align":["left"]},{"label":["title_subtitle"],"name":[15],"type":["lgl"],"align":["right"]},{"label":["title_translated_title"],"name":[16],"type":["lgl"],"align":["right"]},{"label":["title_title_value"],"name":[17],"type":["chr"],"align":["left"]},{"label":["publication_date_month"],"name":[18],"type":["lgl"],"align":["right"]},{"label":["publication_date_day"],"name":[19],"type":["lgl"],"align":["right"]},{"label":["publication_date_media_type"],"name":[20],"type":["lgl"],"align":["right"]},{"label":["publication_date_year_value"],"name":[21],"type":["chr"],"align":["left"]},{"label":["source_source_client_id"],"name":[22],"type":["lgl"],"align":["right"]},{"label":["source_source_orcid"],"name":[23],"type":["lgl"],"align":["right"]},{"label":["external_id_type"],"name":[24],"type":["chr"],"align":["left"]},{"label":["external_id_value"],"name":[25],"type":["chr"],"align":["left"]},{"label":["external_id_url"],"name":[26],"type":["lgl"],"align":["right"]},{"label":["external_id_relationship"],"name":[27],"type":["chr"],"align":["left"]}],"data":[{"1":"9543020","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/9543020","5":"2","6":"2013-08-03","7":"1.494016e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0002-3054-1567","12":"0000-0002-3054-1567","13":"orcid.org","14":"Crossref Metadata Search","15":"NA","16":"NA","17":"A Methodology for the Emulation of Architecture","18":"NA","19":"NA","20":"NA","21":"2012","22":"NA","23":"NA","24":"issn","25":"0264-3561","26":"NA","27":"PART_OF"},{"1":"9543020","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/9543020","5":"2","6":"2013-08-03","7":"1.494016e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0002-3054-1567","12":"0000-0002-3054-1567","13":"orcid.org","14":"Crossref Metadata Search","15":"NA","16":"NA","17":"A Methodology for the Emulation of Architecture","18":"NA","19":"NA","20":"NA","21":"2012","22":"NA","23":"NA","24":"doi","25":"10.5555/12345680","26":"NA","27":"SELF"},{"1":"18777963","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/18777963","5":"1","6":"2013-08-02","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"A Methodology for the Emulation of Architecture","18":"NA","19":"NA","20":"NA","21":"2012","22":"NA","23":"NA","24":"doi","25":"10.5555/12345680","26":"NA","27":"SELF"},{"1":"4562455","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/4562455","5":"0","6":"2013-02-17","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"The Memory Bus Considered Harmful","18":"NA","19":"NA","20":"NA","21":"2012","22":"NA","23":"NA","24":"issn","25":"0264-3561","26":"NA","27":"PART_OF"},{"1":"4562455","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/4562455","5":"0","6":"2013-02-17","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"The Memory Bus Considered Harmful","18":"NA","19":"NA","20":"NA","21":"2012","22":"NA","23":"NA","24":"doi","25":"10.5555/666655554444","26":"NA","27":"SELF"},{"1":"4562454","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/4562454","5":"0","6":"2013-02-17","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"The Impact of Interactive Epistemologies on Cryptography","18":"NA","19":"NA","20":"NA","21":"2011","22":"NA","23":"NA","24":"issn","25":"0264-3561","26":"NA","27":"PART_OF"},{"1":"4562454","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/4562454","5":"0","6":"2013-02-17","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"The Impact of Interactive Epistemologies on Cryptography","18":"NA","19":"NA","20":"NA","21":"2011","22":"NA","23":"NA","24":"doi","25":"10.5555/987654321","26":"NA","27":"SELF"},{"1":"4562453","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/4562453","5":"0","6":"2013-02-17","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"Developing Thin Clients Using Amphibious Epistemologies","18":"NA","19":"NA","20":"NA","21":"2008","22":"NA","23":"NA","24":"issn","25":"0264-3561","26":"NA","27":"PART_OF"},{"1":"4562453","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/4562453","5":"0","6":"2013-02-17","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"Developing Thin Clients Using Amphibious Epistemologies","18":"NA","19":"NA","20":"NA","21":"2008","22":"NA","23":"NA","24":"doi","25":"10.5555/12345679","26":"NA","27":"SELF"},{"1":"4562456","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/4562456","5":"0","6":"2013-02-17","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"Toward a Unified Theory of High-Energy Metaphysics: Silly String Theory","18":"NA","19":"NA","20":"NA","21":"2008","22":"NA","23":"NA","24":"issn","25":"0264-3561","26":"NA","27":"PART_OF"},{"1":"4562456","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/4562456","5":"0","6":"2013-02-17","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"Toward a Unified Theory of High-Energy Metaphysics: Silly String Theory","18":"NA","19":"NA","20":"NA","21":"2008","22":"NA","23":"NA","24":"doi","25":"10.5555/12345678","26":"NA","27":"SELF"},{"1":"19980729","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/19980729","5":"0","6":"2015-11-04","7":"1.494016e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0002-5982-8983","12":"0000-0002-5982-8983","13":"orcid.org","14":"Scopus - Elsevier","15":"NA","16":"NA","17":"Bulk and surface plasmons in artificially structured materials","18":"NA","19":"NA","20":"NA","21":"1987","22":"NA","23":"NA","24":"doi","25":"10.1109/TPS.1987.4316723","26":"NA","27":"SELF"},{"1":"19980729","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/19980729","5":"0","6":"2015-11-04","7":"1.494016e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0002-5982-8983","12":"0000-0002-5982-8983","13":"orcid.org","14":"Scopus - Elsevier","15":"NA","16":"NA","17":"Bulk and surface plasmons in artificially structured materials","18":"NA","19":"NA","20":"NA","21":"1987","22":"NA","23":"NA","24":"eid","25":"2-s2.0-0023398608","26":"NA","27":"SELF"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>In this case, we now have 13 observations of 27 variables rather than 7 observations of 24 variables. The extra rows are there because all but one of the works has two external identifiers. The extra columns are there because four new columns were added with the unnest (that’s why we had to clean the names again):</p>
<ul>
<li><strong>external_id_type</strong> identifies the type of external identifier–see a list of <a href="https://pub.orcid.org/v2.0/identifiers">supported identifiers in ORCID</a>. (required)</li>
<li><strong>external_id_value</strong>: contains the identifier itself (required)</li>
<li><strong>external_id_url:</strong> contains a link the identifier will resolve to (optional)</li>
<li><strong>external_id_relationship</strong>: indicates if the identifier refers to the item itself (<code>SELF</code>), such as a DOI or a person identifier, or a whole that the item is part of (<code>PART_OF</code>), such as an ISSN for a journal article.</li>
</ul>
<p>So we can follow one of the three strategies outlined above if we want to write this to a CSV file: 1) unnest the column (as above), 2) drop the nested lists, or 3) mutate them into character vectors.</p>
</div>
<div id="getting-works-for-multiple-people" class="section level2">
<h2><span class="header-section-number">7.2</span> Getting works for multiple people</h2>
<p><code>orcid::works()</code> is not vectorized, meaning, if you have multiple ORICID iDs, you can’t use it. Instead, you have to pass them to the <code>orcid::orcid_works()</code> function.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb51-1" data-line-number="1">my_orcids &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;0000-0002-1825-0097&quot;</span>, <span class="st">&quot;0000-0002-9260-8456&quot;</span>, <span class="st">&quot;0000-0002-2771-9344&quot;</span>)</a>
<a class="sourceLine" id="cb51-2" data-line-number="2">my_works &lt;-<span class="st"> </span>rorcid<span class="op">::</span><span class="kw">orcid_works</span>(my_orcids) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb51-3" data-line-number="3"><span class="st">  </span>janitor<span class="op">::</span><span class="kw">clean_names</span>()</a></code></pre></div>
<p>This returns a list of 3 elements, with the works nested in <strong>group</strong> &gt; <strong>work-summary</strong>. They can be plucked and flattened into a data frame:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb52-1" data-line-number="1">my_works_data &lt;-<span class="st"> </span>my_works <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb52-2" data-line-number="2"><span class="st">  </span>purrr<span class="op">::</span><span class="kw">map</span>(pluck, <span class="st">&quot;group&quot;</span>, <span class="st">&quot;work-summary&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb52-3" data-line-number="3"><span class="st">  </span>purrr<span class="op">::</span><span class="kw">flatten_dfr</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb52-4" data-line-number="4"><span class="st">  </span>janitor<span class="op">::</span><span class="kw">clean_names</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb52-5" data-line-number="5"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">created_date_value =</span> anytime<span class="op">::</span><span class="kw">anydate</span>(created_date_value<span class="op">/</span><span class="dv">1000</span>))</a>
<a class="sourceLine" id="cb52-6" data-line-number="6">my_works_data</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["put_code"],"name":[1],"type":["int"],"align":["right"]},{"label":["type"],"name":[2],"type":["chr"],"align":["left"]},{"label":["visibility"],"name":[3],"type":["chr"],"align":["left"]},{"label":["path"],"name":[4],"type":["chr"],"align":["left"]},{"label":["display_index"],"name":[5],"type":["chr"],"align":["left"]},{"label":["created_date_value"],"name":[6],"type":["date"],"align":["right"]},{"label":["last_modified_date_value"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["source_source_orcid_uri"],"name":[8],"type":["chr"],"align":["left"]},{"label":["source_source_orcid_path"],"name":[9],"type":["chr"],"align":["left"]},{"label":["source_source_orcid_host"],"name":[10],"type":["chr"],"align":["left"]},{"label":["source_source_client_id_uri"],"name":[11],"type":["chr"],"align":["left"]},{"label":["source_source_client_id_path"],"name":[12],"type":["chr"],"align":["left"]},{"label":["source_source_client_id_host"],"name":[13],"type":["chr"],"align":["left"]},{"label":["source_source_name_value"],"name":[14],"type":["chr"],"align":["left"]},{"label":["title_subtitle"],"name":[15],"type":["lgl"],"align":["right"]},{"label":["title_translated_title"],"name":[16],"type":["lgl"],"align":["right"]},{"label":["title_title_value"],"name":[17],"type":["chr"],"align":["left"]},{"label":["external_ids_external_id"],"name":[18],"type":["list"],"align":["right"]},{"label":["publication_date_month"],"name":[19],"type":["lgl"],"align":["right"]},{"label":["publication_date_day"],"name":[20],"type":["lgl"],"align":["right"]},{"label":["publication_date_media_type"],"name":[21],"type":["lgl"],"align":["right"]},{"label":["publication_date_year_value"],"name":[22],"type":["chr"],"align":["left"]},{"label":["source_source_client_id"],"name":[23],"type":["lgl"],"align":["right"]},{"label":["source_source_orcid"],"name":[24],"type":["lgl"],"align":["right"]},{"label":["publication_date_month_value"],"name":[25],"type":["chr"],"align":["left"]},{"label":["publication_date_day_value"],"name":[26],"type":["chr"],"align":["left"]}],"data":[{"1":"9543020","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/9543020","5":"2","6":"2013-08-03","7":"1.494016e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0002-3054-1567","12":"0000-0002-3054-1567","13":"orcid.org","14":"Crossref Metadata Search","15":"NA","16":"NA","17":"A Methodology for the Emulation of Architecture","18":"<data.frame [2 × 4]>","19":"NA","20":"NA","21":"NA","22":"2012","23":"NA","24":"NA","25":"NA","26":"NA"},{"1":"18777963","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/18777963","5":"1","6":"2013-08-02","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"A Methodology for the Emulation of Architecture","18":"<data.frame [1 × 4]>","19":"NA","20":"NA","21":"NA","22":"2012","23":"NA","24":"NA","25":"NA","26":"NA"},{"1":"4562455","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/4562455","5":"0","6":"2013-02-17","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"The Memory Bus Considered Harmful","18":"<data.frame [2 × 4]>","19":"NA","20":"NA","21":"NA","22":"2012","23":"NA","24":"NA","25":"NA","26":"NA"},{"1":"4562454","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/4562454","5":"0","6":"2013-02-17","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"The Impact of Interactive Epistemologies on Cryptography","18":"<data.frame [2 × 4]>","19":"NA","20":"NA","21":"NA","22":"2011","23":"NA","24":"NA","25":"NA","26":"NA"},{"1":"4562453","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/4562453","5":"0","6":"2013-02-17","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"Developing Thin Clients Using Amphibious Epistemologies","18":"<data.frame [2 × 4]>","19":"NA","20":"NA","21":"NA","22":"2008","23":"NA","24":"NA","25":"NA","26":"NA"},{"1":"4562456","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/4562456","5":"0","6":"2013-02-17","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"Toward a Unified Theory of High-Energy Metaphysics: Silly String Theory","18":"<data.frame [2 × 4]>","19":"NA","20":"NA","21":"NA","22":"2008","23":"NA","24":"NA","25":"NA","26":"NA"},{"1":"19980729","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/19980729","5":"0","6":"2015-11-04","7":"1.494016e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0002-5982-8983","12":"0000-0002-5982-8983","13":"orcid.org","14":"Scopus - Elsevier","15":"NA","16":"NA","17":"Bulk and surface plasmons in artificially structured materials","18":"<data.frame [2 × 4]>","19":"NA","20":"NA","21":"NA","22":"1987","23":"NA","24":"NA","25":"NA","26":"NA"},{"1":"56791858","2":"RESEARCH_TOOL","3":"PUBLIC","4":"/0000-0002-9260-8456/work/56791858","5":"1","6":"2019-04-25","7":"1.556228e+12","8":"https://orcid.org/0000-0002-9260-8456","9":"0000-0002-9260-8456","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Clarke Iakovakis","15":"NA","16":"NA","17":"Building Your Research Profile (without breaking copyright)","18":"<data.frame [1 × 4]>","19":"NA","20":"NA","21":"NA","22":"2019","23":"NA","24":"NA","25":"03","26":"07"},{"1":"55186833","2":"CONFERENCE_PAPER","3":"PUBLIC","4":"/0000-0002-9260-8456/work/55186833","5":"1","6":"2019-03-12","7":"1.553542e+12","8":"https://orcid.org/0000-0002-9260-8456","9":"0000-0002-9260-8456","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Clarke Iakovakis","15":"NA","16":"NA","17":"Confronting the Elephant in the Room: Cleaning & Wrangling Data for Collections & Scholarly Services","18":"<data.frame [1 × 4]>","19":"NA","20":"NA","21":"NA","22":"2019","23":"NA","24":"NA","25":"03","26":"05"},{"1":"54623728","2":"RESEARCH_TECHNIQUE","3":"PUBLIC","4":"/0000-0002-9260-8456/work/54623728","5":"1","6":"2019-02-26","7":"1.552408e+12","8":"https://orcid.org/0000-0002-9260-8456","9":"0000-0002-9260-8456","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Clarke Iakovakis","15":"NA","16":"NA","17":"Gathering Multiple Subject Queries with Large Numbers of Authors","18":"<list [0]>","19":"NA","20":"NA","21":"NA","22":"2018","23":"NA","24":"NA","25":"12","26":"18"},{"1":"55521281","2":"CONFERENCE_PAPER","3":"PUBLIC","4":"/0000-0002-9260-8456/work/55521281","5":"1","6":"2019-03-20","7":"1.553112e+12","8":"https://orcid.org/0000-0002-9260-8456","9":"0000-0002-9260-8456","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Clarke Iakovakis","15":"NA","16":"NA","17":"Open Access Publishing: Identifying quality journals & avoiding predatory publishers","18":"<data.frame [1 × 4]>","19":"NA","20":"NA","21":"NA","22":"2018","23":"NA","24":"NA","25":"10","26":"NA"},{"1":"55183878","2":"CONFERENCE_PAPER","3":"PUBLIC","4":"/0000-0002-9260-8456/work/55183878","5":"1","6":"2019-03-12","7":"1.552415e+12","8":"https://orcid.org/0000-0002-9260-8456","9":"0000-0002-9260-8456","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Clarke Iakovakis","15":"NA","16":"NA","17":"Centralizing ETD Processing in the Library: Owning the Roles of ETD Administration, Research Librarianship, and Scholarly Communications","18":"<list [0]>","19":"NA","20":"NA","21":"NA","22":"2018","23":"NA","24":"NA","25":"09","26":"14"},{"1":"55184197","2":"LECTURE_SPEECH","3":"PUBLIC","4":"/0000-0002-9260-8456/work/55184197","5":"1","6":"2019-03-12","7":"1.556058e+12","8":"https://orcid.org/0000-0002-9260-8456","9":"0000-0002-9260-8456","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Clarke Iakovakis","15":"NA","16":"NA","17":"Introduction to R for Libraries","18":"<data.frame [1 × 4]>","19":"NA","20":"NA","21":"NA","22":"2018","23":"NA","24":"NA","25":"05","26":"NA"},{"1":"50220229","2":"BOOK_REVIEW","3":"PUBLIC","4":"/0000-0002-9260-8456/work/50220229","5":"1","6":"2018-11-05","7":"1.541443e+12","8":"https://orcid.org/0000-0002-9260-8456","9":"0000-0002-9260-8456","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Clarke Iakovakis","15":"NA","16":"NA","17":"Review of The Orange Trees of Marrakesh: Ibn Khaldun and the Science of Man, by Stephen Dale","18":"<list [0]>","19":"NA","20":"NA","21":"NA","22":"2018","23":"NA","24":"NA","25":"04","26":"10"},{"1":"31428683","2":"CONFERENCE_PAPER","3":"PUBLIC","4":"/0000-0002-9260-8456/work/31428683","5":"1","6":"2017-03-28","7":"1.490734e+12","8":"https://orcid.org/0000-0002-9260-8456","9":"0000-0002-9260-8456","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Clarke Iakovakis","15":"NA","16":"NA","17":"“I Don’t Know What I’m Looking at”: Understanding Student LibGuide Use with Eye-Tracking Software","18":"<list [0]>","19":"NA","20":"NA","21":"NA","22":"2017","23":"NA","24":"NA","25":"03","26":"24"},{"1":"14140662","2":"DISSERTATION","3":"PUBLIC","4":"/0000-0002-9260-8456/work/14140662","5":"0","6":"2014-10-20","7":"1.553111e+12","8":"https://orcid.org/0000-0002-9260-8456","9":"0000-0002-9260-8456","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Clarke Iakovakis","15":"NA","16":"NA","17":"An interdisciplinary inquiry into the ethics codes of the helping professions","18":"<data.frame [1 × 4]>","19":"NA","20":"NA","21":"NA","22":"2011","23":"NA","24":"NA","25":"05","26":"NA"},{"1":"56829577","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-9260-8456/work/56829577","5":"1","6":"2019-04-26","7":"1.556301e+12","8":"https://orcid.org/0000-0002-9260-8456","9":"0000-0002-9260-8456","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Clarke Iakovakis","15":"NA","16":"NA","17":"Technological pedagogical content knowledge: A framework for teacher knowledge","18":"<list [0]>","19":"NA","20":"NA","21":"NA","22":"2006","23":"NA","24":"NA","25":"NA","26":"NA"},{"1":"37069489","2":"OTHER","3":"PUBLIC","4":"/0000-0002-2771-9344/work/37069489","5":"0","6":"2017-09-24","7":"1.506242e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0001-8099-6984","12":"0000-0001-8099-6984","13":"orcid.org","14":"DataCite","15":"NA","16":"NA","17":"Introducing Orcid","18":"<data.frame [1 × 4]>","19":"NA","20":"NA","21":"NA","22":"2017","23":"NA","24":"NA","25":"03","26":"28"},{"1":"43318438","2":"OTHER","3":"PUBLIC","4":"/0000-0002-2771-9344/work/43318438","5":"0","6":"2018-04-05","7":"1.522962e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0001-8099-6984","12":"0000-0001-8099-6984","13":"orcid.org","14":"DataCite","15":"NA","16":"NA","17":"ORCID Public Data File 2017","18":"<data.frame [1 × 4]>","19":"NA","20":"NA","21":"NA","22":"2017","23":"NA","24":"NA","25":"NA","26":"NA"},{"1":"37069490","2":"OTHER","3":"PUBLIC","4":"/0000-0002-2771-9344/work/37069490","5":"0","6":"2017-09-24","7":"1.506242e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0001-8099-6984","12":"0000-0001-8099-6984","13":"orcid.org","14":"DataCite","15":"NA","16":"NA","17":"Introducing Orcid: What, Why And How","18":"<data.frame [1 × 4]>","19":"NA","20":"NA","21":"NA","22":"2016","23":"NA","24":"NA","25":"11","26":"23"},{"1":"37069241","2":"DATA_SET","3":"PUBLIC","4":"/0000-0002-2771-9344/work/37069241","5":"0","6":"2017-09-24","7":"1.506241e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0001-8099-6984","12":"0000-0001-8099-6984","13":"orcid.org","14":"DataCite","15":"NA","16":"NA","17":"ORCID Public Data File 2016","18":"<data.frame [1 × 4]>","19":"NA","20":"NA","21":"NA","22":"2016","23":"NA","24":"NA","25":"NA","26":"NA"},{"1":"37069473","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-2771-9344/work/37069473","5":"0","6":"2017-09-24","7":"1.506242e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0002-3054-1567","12":"0000-0002-3054-1567","13":"orcid.org","14":"Crossref Metadata Search","15":"NA","16":"NA","17":"Your Lifelong Digital Name","18":"<data.frame [1 × 4]>","19":"NA","20":"NA","21":"NA","22":"2016","23":"NA","24":"NA","25":"NA","26":"NA"},{"1":"37069249","2":"DATA_SET","3":"PUBLIC","4":"/0000-0002-2771-9344/work/37069249","5":"0","6":"2017-09-24","7":"1.506241e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0001-8099-6984","12":"0000-0001-8099-6984","13":"orcid.org","14":"DataCite","15":"NA","16":"NA","17":"ORCID Public Data File 2015","18":"<data.frame [1 × 4]>","19":"NA","20":"NA","21":"NA","22":"2015","23":"NA","24":"NA","25":"NA","26":"NA"},{"1":"37069240","2":"DATA_SET","3":"PUBLIC","4":"/0000-0002-2771-9344/work/37069240","5":"0","6":"2017-09-24","7":"1.506241e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0001-8099-6984","12":"0000-0001-8099-6984","13":"orcid.org","14":"DataCite","15":"NA","16":"NA","17":"ORCID Annual Public Data File, 2014","18":"<data.frame [1 × 4]>","19":"NA","20":"NA","21":"NA","22":"2014","23":"NA","24":"NA","25":"NA","26":"NA"},{"1":"37069239","2":"DATA_SET","3":"PUBLIC","4":"/0000-0002-2771-9344/work/37069239","5":"0","6":"2017-09-24","7":"1.506241e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0001-8099-6984","12":"0000-0001-8099-6984","13":"orcid.org","14":"DataCite","15":"NA","16":"NA","17":"ORCID Annual Public Data File, 2013","18":"<data.frame [1 × 4]>","19":"NA","20":"NA","21":"NA","22":"2013","23":"NA","24":"NA","25":"NA","26":"NA"},{"1":"37069475","2":"OTHER","3":"PUBLIC","4":"/0000-0002-2771-9344/work/37069475","5":"0","6":"2017-09-24","7":"1.506242e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0002-3054-1567","12":"0000-0002-3054-1567","13":"orcid.org","14":"Crossref Metadata Search","15":"NA","16":"NA","17":"ORCID","18":"<data.frame [1 × 4]>","19":"NA","20":"NA","21":"NA","22":"2009","23":"NA","24":"NA","25":"NA","26":"NA"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="unnesting-external-ids" class="section level2">
<h2><span class="header-section-number">7.3</span> Unnesting external IDs</h2>
<p>Now you may want to run some analysis using the external identifiers; for instance, you can use the <code>roadoi</code> package to look at which DOIs are open access.</p>
<p>We run into a problem here when we try to unnest the external IDs:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb53-1" data-line-number="1">my_works_externalIDs &lt;-<span class="st"> </span>my_works_data <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb53-2" data-line-number="2"><span class="st">  </span><span class="kw">unnest</span>(external_ids_external_id)</a></code></pre></div>
<p>The error message reads: <code>&quot;Error: Each column must either be a list of vectors or a list of data frames [external_ids_external_id]&quot;.</code> This is because some of the list columns are empty. We can just filter them out before unnesting:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb54-1" data-line-number="1">my_works_externalIDs &lt;-<span class="st"> </span>my_works_data <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb54-2" data-line-number="2"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">filter</span>(<span class="op">!</span>purrr<span class="op">::</span><span class="kw">map_lgl</span>(external_ids_external_id, purrr<span class="op">::</span>is_empty)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb54-3" data-line-number="3"><span class="st">  </span>tidyr<span class="op">::</span><span class="kw">unnest</span>(external_ids_external_id)</a>
<a class="sourceLine" id="cb54-4" data-line-number="4">my_works_externalIDs</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["put_code"],"name":[1],"type":["int"],"align":["right"]},{"label":["type"],"name":[2],"type":["chr"],"align":["left"]},{"label":["visibility"],"name":[3],"type":["chr"],"align":["left"]},{"label":["path"],"name":[4],"type":["chr"],"align":["left"]},{"label":["display_index"],"name":[5],"type":["chr"],"align":["left"]},{"label":["created_date_value"],"name":[6],"type":["date"],"align":["right"]},{"label":["last_modified_date_value"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["source_source_orcid_uri"],"name":[8],"type":["chr"],"align":["left"]},{"label":["source_source_orcid_path"],"name":[9],"type":["chr"],"align":["left"]},{"label":["source_source_orcid_host"],"name":[10],"type":["chr"],"align":["left"]},{"label":["source_source_client_id_uri"],"name":[11],"type":["chr"],"align":["left"]},{"label":["source_source_client_id_path"],"name":[12],"type":["chr"],"align":["left"]},{"label":["source_source_client_id_host"],"name":[13],"type":["chr"],"align":["left"]},{"label":["source_source_name_value"],"name":[14],"type":["chr"],"align":["left"]},{"label":["title_subtitle"],"name":[15],"type":["lgl"],"align":["right"]},{"label":["title_translated_title"],"name":[16],"type":["lgl"],"align":["right"]},{"label":["title_title_value"],"name":[17],"type":["chr"],"align":["left"]},{"label":["publication_date_month"],"name":[18],"type":["lgl"],"align":["right"]},{"label":["publication_date_day"],"name":[19],"type":["lgl"],"align":["right"]},{"label":["publication_date_media_type"],"name":[20],"type":["lgl"],"align":["right"]},{"label":["publication_date_year_value"],"name":[21],"type":["chr"],"align":["left"]},{"label":["source_source_client_id"],"name":[22],"type":["lgl"],"align":["right"]},{"label":["source_source_orcid"],"name":[23],"type":["lgl"],"align":["right"]},{"label":["publication_date_month_value"],"name":[24],"type":["chr"],"align":["left"]},{"label":["publication_date_day_value"],"name":[25],"type":["chr"],"align":["left"]},{"label":["external-id-type"],"name":[26],"type":["chr"],"align":["left"]},{"label":["external-id-value"],"name":[27],"type":["chr"],"align":["left"]},{"label":["external-id-url"],"name":[28],"type":["lgl"],"align":["right"]},{"label":["external-id-relationship"],"name":[29],"type":["chr"],"align":["left"]},{"label":["external-id-url.value"],"name":[30],"type":["chr"],"align":["left"]}],"data":[{"1":"9543020","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/9543020","5":"2","6":"2013-08-03","7":"1.494016e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0002-3054-1567","12":"0000-0002-3054-1567","13":"orcid.org","14":"Crossref Metadata Search","15":"NA","16":"NA","17":"A Methodology for the Emulation of Architecture","18":"NA","19":"NA","20":"NA","21":"2012","22":"NA","23":"NA","24":"NA","25":"NA","26":"issn","27":"0264-3561","28":"NA","29":"PART_OF","30":"NA"},{"1":"9543020","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/9543020","5":"2","6":"2013-08-03","7":"1.494016e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0002-3054-1567","12":"0000-0002-3054-1567","13":"orcid.org","14":"Crossref Metadata Search","15":"NA","16":"NA","17":"A Methodology for the Emulation of Architecture","18":"NA","19":"NA","20":"NA","21":"2012","22":"NA","23":"NA","24":"NA","25":"NA","26":"doi","27":"10.5555/12345680","28":"NA","29":"SELF","30":"NA"},{"1":"18777963","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/18777963","5":"1","6":"2013-08-02","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"A Methodology for the Emulation of Architecture","18":"NA","19":"NA","20":"NA","21":"2012","22":"NA","23":"NA","24":"NA","25":"NA","26":"doi","27":"10.5555/12345680","28":"NA","29":"SELF","30":"NA"},{"1":"4562455","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/4562455","5":"0","6":"2013-02-17","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"The Memory Bus Considered Harmful","18":"NA","19":"NA","20":"NA","21":"2012","22":"NA","23":"NA","24":"NA","25":"NA","26":"issn","27":"0264-3561","28":"NA","29":"PART_OF","30":"NA"},{"1":"4562455","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/4562455","5":"0","6":"2013-02-17","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"The Memory Bus Considered Harmful","18":"NA","19":"NA","20":"NA","21":"2012","22":"NA","23":"NA","24":"NA","25":"NA","26":"doi","27":"10.5555/666655554444","28":"NA","29":"SELF","30":"NA"},{"1":"4562454","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/4562454","5":"0","6":"2013-02-17","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"The Impact of Interactive Epistemologies on Cryptography","18":"NA","19":"NA","20":"NA","21":"2011","22":"NA","23":"NA","24":"NA","25":"NA","26":"issn","27":"0264-3561","28":"NA","29":"PART_OF","30":"NA"},{"1":"4562454","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/4562454","5":"0","6":"2013-02-17","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"The Impact of Interactive Epistemologies on Cryptography","18":"NA","19":"NA","20":"NA","21":"2011","22":"NA","23":"NA","24":"NA","25":"NA","26":"doi","27":"10.5555/987654321","28":"NA","29":"SELF","30":"NA"},{"1":"4562453","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/4562453","5":"0","6":"2013-02-17","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"Developing Thin Clients Using Amphibious Epistemologies","18":"NA","19":"NA","20":"NA","21":"2008","22":"NA","23":"NA","24":"NA","25":"NA","26":"issn","27":"0264-3561","28":"NA","29":"PART_OF","30":"NA"},{"1":"4562453","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/4562453","5":"0","6":"2013-02-17","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"Developing Thin Clients Using Amphibious Epistemologies","18":"NA","19":"NA","20":"NA","21":"2008","22":"NA","23":"NA","24":"NA","25":"NA","26":"doi","27":"10.5555/12345679","28":"NA","29":"SELF","30":"NA"},{"1":"4562456","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/4562456","5":"0","6":"2013-02-17","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"Toward a Unified Theory of High-Energy Metaphysics: Silly String Theory","18":"NA","19":"NA","20":"NA","21":"2008","22":"NA","23":"NA","24":"NA","25":"NA","26":"issn","27":"0264-3561","28":"NA","29":"PART_OF","30":"NA"},{"1":"4562456","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/4562456","5":"0","6":"2013-02-17","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"Toward a Unified Theory of High-Energy Metaphysics: Silly String Theory","18":"NA","19":"NA","20":"NA","21":"2008","22":"NA","23":"NA","24":"NA","25":"NA","26":"doi","27":"10.5555/12345678","28":"NA","29":"SELF","30":"NA"},{"1":"19980729","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/19980729","5":"0","6":"2015-11-04","7":"1.494016e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0002-5982-8983","12":"0000-0002-5982-8983","13":"orcid.org","14":"Scopus - Elsevier","15":"NA","16":"NA","17":"Bulk and surface plasmons in artificially structured materials","18":"NA","19":"NA","20":"NA","21":"1987","22":"NA","23":"NA","24":"NA","25":"NA","26":"doi","27":"10.1109/TPS.1987.4316723","28":"NA","29":"SELF","30":"NA"},{"1":"19980729","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/19980729","5":"0","6":"2015-11-04","7":"1.494016e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0002-5982-8983","12":"0000-0002-5982-8983","13":"orcid.org","14":"Scopus - Elsevier","15":"NA","16":"NA","17":"Bulk and surface plasmons in artificially structured materials","18":"NA","19":"NA","20":"NA","21":"1987","22":"NA","23":"NA","24":"NA","25":"NA","26":"eid","27":"2-s2.0-0023398608","28":"NA","29":"SELF","30":"NA"},{"1":"56791858","2":"RESEARCH_TOOL","3":"PUBLIC","4":"/0000-0002-9260-8456/work/56791858","5":"1","6":"2019-04-25","7":"1.556228e+12","8":"https://orcid.org/0000-0002-9260-8456","9":"0000-0002-9260-8456","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Clarke Iakovakis","15":"NA","16":"NA","17":"Building Your Research Profile (without breaking copyright)","18":"NA","19":"NA","20":"NA","21":"2019","22":"NA","23":"NA","24":"03","25":"07","26":"doi","27":"10.17605/osf.io/2w6pj","28":"NA","29":"SELF","30":"https://doi.org/10.17605/osf.io/2w6pj"},{"1":"55186833","2":"CONFERENCE_PAPER","3":"PUBLIC","4":"/0000-0002-9260-8456/work/55186833","5":"1","6":"2019-03-12","7":"1.553542e+12","8":"https://orcid.org/0000-0002-9260-8456","9":"0000-0002-9260-8456","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Clarke Iakovakis","15":"NA","16":"NA","17":"Confronting the Elephant in the Room: Cleaning & Wrangling Data for Collections & Scholarly Services","18":"NA","19":"NA","20":"NA","21":"2019","22":"NA","23":"NA","24":"03","25":"05","26":"doi","27":"10.17605/OSF.IO/A5P3R","28":"NA","29":"SELF","30":"https://doi.org/10.17605%2Fosf.io%2Fa5p3r"},{"1":"55521281","2":"CONFERENCE_PAPER","3":"PUBLIC","4":"/0000-0002-9260-8456/work/55521281","5":"1","6":"2019-03-20","7":"1.553112e+12","8":"https://orcid.org/0000-0002-9260-8456","9":"0000-0002-9260-8456","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Clarke Iakovakis","15":"NA","16":"NA","17":"Open Access Publishing: Identifying quality journals & avoiding predatory publishers","18":"NA","19":"NA","20":"NA","21":"2018","22":"NA","23":"NA","24":"10","25":"NA","26":"handle","27":"11244/317599","28":"NA","29":"SELF","30":"https://hdl.handle.net/11244/317599"},{"1":"55184197","2":"LECTURE_SPEECH","3":"PUBLIC","4":"/0000-0002-9260-8456/work/55184197","5":"1","6":"2019-03-12","7":"1.556058e+12","8":"https://orcid.org/0000-0002-9260-8456","9":"0000-0002-9260-8456","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Clarke Iakovakis","15":"NA","16":"NA","17":"Introduction to R for Libraries","18":"NA","19":"NA","20":"NA","21":"2018","22":"NA","23":"NA","24":"05","25":"NA","26":"doi","27":"10.6084/m9.figshare.8029301","28":"NA","29":"SELF","30":"https://doi.org/10.6084/m9.figshare.8029301"},{"1":"14140662","2":"DISSERTATION","3":"PUBLIC","4":"/0000-0002-9260-8456/work/14140662","5":"0","6":"2014-10-20","7":"1.553111e+12","8":"https://orcid.org/0000-0002-9260-8456","9":"0000-0002-9260-8456","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Clarke Iakovakis","15":"NA","16":"NA","17":"An interdisciplinary inquiry into the ethics codes of the helping professions","18":"NA","19":"NA","20":"NA","21":"2011","22":"NA","23":"NA","24":"05","25":"NA","26":"handle","27":"ETD-UT-2011-05-3522","28":"NA","29":"SELF","30":"http://hdl.handle.net/2152/ETD-UT-2011-05-3522"},{"1":"37069489","2":"OTHER","3":"PUBLIC","4":"/0000-0002-2771-9344/work/37069489","5":"0","6":"2017-09-24","7":"1.506242e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0001-8099-6984","12":"0000-0001-8099-6984","13":"orcid.org","14":"DataCite","15":"NA","16":"NA","17":"Introducing Orcid","18":"NA","19":"NA","20":"NA","21":"2017","22":"NA","23":"NA","24":"03","25":"28","26":"doi","27":"10.5281/zenodo.495149","28":"NA","29":"SELF","30":"NA"},{"1":"43318438","2":"OTHER","3":"PUBLIC","4":"/0000-0002-2771-9344/work/43318438","5":"0","6":"2018-04-05","7":"1.522962e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0001-8099-6984","12":"0000-0001-8099-6984","13":"orcid.org","14":"DataCite","15":"NA","16":"NA","17":"ORCID Public Data File 2017","18":"NA","19":"NA","20":"NA","21":"2017","22":"NA","23":"NA","24":"NA","25":"NA","26":"doi","27":"10.6084/m9.figshare.5479792.v1","28":"NA","29":"SELF","30":"NA"},{"1":"37069490","2":"OTHER","3":"PUBLIC","4":"/0000-0002-2771-9344/work/37069490","5":"0","6":"2017-09-24","7":"1.506242e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0001-8099-6984","12":"0000-0001-8099-6984","13":"orcid.org","14":"DataCite","15":"NA","16":"NA","17":"Introducing Orcid: What, Why And How","18":"NA","19":"NA","20":"NA","21":"2016","22":"NA","23":"NA","24":"11","25":"23","26":"doi","27":"10.5281/zenodo.168190","28":"NA","29":"SELF","30":"NA"},{"1":"37069241","2":"DATA_SET","3":"PUBLIC","4":"/0000-0002-2771-9344/work/37069241","5":"0","6":"2017-09-24","7":"1.506241e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0001-8099-6984","12":"0000-0001-8099-6984","13":"orcid.org","14":"DataCite","15":"NA","16":"NA","17":"ORCID Public Data File 2016","18":"NA","19":"NA","20":"NA","21":"2016","22":"NA","23":"NA","24":"NA","25":"NA","26":"doi","27":"10.6084/m9.figshare.4134027.v1","28":"NA","29":"SELF","30":"NA"},{"1":"37069473","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-2771-9344/work/37069473","5":"0","6":"2017-09-24","7":"1.506242e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0002-3054-1567","12":"0000-0002-3054-1567","13":"orcid.org","14":"Crossref Metadata Search","15":"NA","16":"NA","17":"Your Lifelong Digital Name","18":"NA","19":"NA","20":"NA","21":"2016","22":"NA","23":"NA","24":"NA","25":"NA","26":"doi","27":"10.1002/chemv.201600091","28":"NA","29":"SELF","30":"NA"},{"1":"37069249","2":"DATA_SET","3":"PUBLIC","4":"/0000-0002-2771-9344/work/37069249","5":"0","6":"2017-09-24","7":"1.506241e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0001-8099-6984","12":"0000-0001-8099-6984","13":"orcid.org","14":"DataCite","15":"NA","16":"NA","17":"ORCID Public Data File 2015","18":"NA","19":"NA","20":"NA","21":"2015","22":"NA","23":"NA","24":"NA","25":"NA","26":"doi","27":"10.6084/m9.figshare.1582705","28":"NA","29":"SELF","30":"NA"},{"1":"37069240","2":"DATA_SET","3":"PUBLIC","4":"/0000-0002-2771-9344/work/37069240","5":"0","6":"2017-09-24","7":"1.506241e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0001-8099-6984","12":"0000-0001-8099-6984","13":"orcid.org","14":"DataCite","15":"NA","16":"NA","17":"ORCID Annual Public Data File, 2014","18":"NA","19":"NA","20":"NA","21":"2014","22":"NA","23":"NA","24":"NA","25":"NA","26":"doi","27":"10.14454/07243.2014.001","28":"NA","29":"SELF","30":"NA"},{"1":"37069239","2":"DATA_SET","3":"PUBLIC","4":"/0000-0002-2771-9344/work/37069239","5":"0","6":"2017-09-24","7":"1.506241e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0001-8099-6984","12":"0000-0001-8099-6984","13":"orcid.org","14":"DataCite","15":"NA","16":"NA","17":"ORCID Annual Public Data File, 2013","18":"NA","19":"NA","20":"NA","21":"2013","22":"NA","23":"NA","24":"NA","25":"NA","26":"doi","27":"10.14454/07243.2013.001","28":"NA","29":"SELF","30":"NA"},{"1":"37069475","2":"OTHER","3":"PUBLIC","4":"/0000-0002-2771-9344/work/37069475","5":"0","6":"2017-09-24","7":"1.506242e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0002-3054-1567","12":"0000-0002-3054-1567","13":"orcid.org","14":"Crossref Metadata Search","15":"NA","16":"NA","17":"ORCID","18":"NA","19":"NA","20":"NA","21":"2009","22":"NA","23":"NA","24":"NA","25":"NA","26":"doi","27":"10.1081/e-elis3-120050534","28":"NA","29":"SELF","30":"NA"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>If we want to keep them, there’s a workaround: use <code>map_lgl</code> to first remove (<code>filter()</code> out) the <code>NULL</code> <code>external_id</code> columns, then <code>unnest</code> the ids, then bind back the <code>NULL</code> author columns, and finally deselecting the extra <code>author</code> and <code>link</code> columns as these are no longer in the transformed, unnested data.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb55-1" data-line-number="1">my_works_externalIDs_keep &lt;-<span class="st"> </span>my_works_data <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb55-2" data-line-number="2"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">filter</span>(<span class="op">!</span>purrr<span class="op">::</span><span class="kw">map_lgl</span>(external_ids_external_id, purrr<span class="op">::</span>is_empty)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb55-3" data-line-number="3"><span class="st">  </span>tidyr<span class="op">::</span><span class="kw">unnest</span>(external_ids_external_id, <span class="dt">.drop =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb55-4" data-line-number="4"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">bind_rows</span>(my_works_data <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb55-5" data-line-number="5"><span class="st">                     </span>dplyr<span class="op">::</span><span class="kw">filter</span>(<span class="kw">map_lgl</span>(external_ids_external_id, is.null)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb55-6" data-line-number="6"><span class="st">                     </span>dplyr<span class="op">::</span><span class="kw">select</span>(<span class="op">-</span>external_ids_external_id))</a>
<a class="sourceLine" id="cb55-7" data-line-number="7">my_works_externalIDs_keep</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["put_code"],"name":[1],"type":["int"],"align":["right"]},{"label":["type"],"name":[2],"type":["chr"],"align":["left"]},{"label":["visibility"],"name":[3],"type":["chr"],"align":["left"]},{"label":["path"],"name":[4],"type":["chr"],"align":["left"]},{"label":["display_index"],"name":[5],"type":["chr"],"align":["left"]},{"label":["created_date_value"],"name":[6],"type":["date"],"align":["right"]},{"label":["last_modified_date_value"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["source_source_orcid_uri"],"name":[8],"type":["chr"],"align":["left"]},{"label":["source_source_orcid_path"],"name":[9],"type":["chr"],"align":["left"]},{"label":["source_source_orcid_host"],"name":[10],"type":["chr"],"align":["left"]},{"label":["source_source_client_id_uri"],"name":[11],"type":["chr"],"align":["left"]},{"label":["source_source_client_id_path"],"name":[12],"type":["chr"],"align":["left"]},{"label":["source_source_client_id_host"],"name":[13],"type":["chr"],"align":["left"]},{"label":["source_source_name_value"],"name":[14],"type":["chr"],"align":["left"]},{"label":["title_subtitle"],"name":[15],"type":["lgl"],"align":["right"]},{"label":["title_translated_title"],"name":[16],"type":["lgl"],"align":["right"]},{"label":["title_title_value"],"name":[17],"type":["chr"],"align":["left"]},{"label":["publication_date_month"],"name":[18],"type":["lgl"],"align":["right"]},{"label":["publication_date_day"],"name":[19],"type":["lgl"],"align":["right"]},{"label":["publication_date_media_type"],"name":[20],"type":["lgl"],"align":["right"]},{"label":["publication_date_year_value"],"name":[21],"type":["chr"],"align":["left"]},{"label":["source_source_client_id"],"name":[22],"type":["lgl"],"align":["right"]},{"label":["source_source_orcid"],"name":[23],"type":["lgl"],"align":["right"]},{"label":["publication_date_month_value"],"name":[24],"type":["chr"],"align":["left"]},{"label":["publication_date_day_value"],"name":[25],"type":["chr"],"align":["left"]},{"label":["external-id-type"],"name":[26],"type":["chr"],"align":["left"]},{"label":["external-id-value"],"name":[27],"type":["chr"],"align":["left"]},{"label":["external-id-url"],"name":[28],"type":["lgl"],"align":["right"]},{"label":["external-id-relationship"],"name":[29],"type":["chr"],"align":["left"]},{"label":["external-id-url.value"],"name":[30],"type":["chr"],"align":["left"]}],"data":[{"1":"9543020","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/9543020","5":"2","6":"2013-08-03","7":"1.494016e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0002-3054-1567","12":"0000-0002-3054-1567","13":"orcid.org","14":"Crossref Metadata Search","15":"NA","16":"NA","17":"A Methodology for the Emulation of Architecture","18":"NA","19":"NA","20":"NA","21":"2012","22":"NA","23":"NA","24":"NA","25":"NA","26":"issn","27":"0264-3561","28":"NA","29":"PART_OF","30":"NA"},{"1":"9543020","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/9543020","5":"2","6":"2013-08-03","7":"1.494016e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0002-3054-1567","12":"0000-0002-3054-1567","13":"orcid.org","14":"Crossref Metadata Search","15":"NA","16":"NA","17":"A Methodology for the Emulation of Architecture","18":"NA","19":"NA","20":"NA","21":"2012","22":"NA","23":"NA","24":"NA","25":"NA","26":"doi","27":"10.5555/12345680","28":"NA","29":"SELF","30":"NA"},{"1":"18777963","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/18777963","5":"1","6":"2013-08-02","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"A Methodology for the Emulation of Architecture","18":"NA","19":"NA","20":"NA","21":"2012","22":"NA","23":"NA","24":"NA","25":"NA","26":"doi","27":"10.5555/12345680","28":"NA","29":"SELF","30":"NA"},{"1":"4562455","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/4562455","5":"0","6":"2013-02-17","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"The Memory Bus Considered Harmful","18":"NA","19":"NA","20":"NA","21":"2012","22":"NA","23":"NA","24":"NA","25":"NA","26":"issn","27":"0264-3561","28":"NA","29":"PART_OF","30":"NA"},{"1":"4562455","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/4562455","5":"0","6":"2013-02-17","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"The Memory Bus Considered Harmful","18":"NA","19":"NA","20":"NA","21":"2012","22":"NA","23":"NA","24":"NA","25":"NA","26":"doi","27":"10.5555/666655554444","28":"NA","29":"SELF","30":"NA"},{"1":"4562454","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/4562454","5":"0","6":"2013-02-17","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"The Impact of Interactive Epistemologies on Cryptography","18":"NA","19":"NA","20":"NA","21":"2011","22":"NA","23":"NA","24":"NA","25":"NA","26":"issn","27":"0264-3561","28":"NA","29":"PART_OF","30":"NA"},{"1":"4562454","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/4562454","5":"0","6":"2013-02-17","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"The Impact of Interactive Epistemologies on Cryptography","18":"NA","19":"NA","20":"NA","21":"2011","22":"NA","23":"NA","24":"NA","25":"NA","26":"doi","27":"10.5555/987654321","28":"NA","29":"SELF","30":"NA"},{"1":"4562453","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/4562453","5":"0","6":"2013-02-17","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"Developing Thin Clients Using Amphibious Epistemologies","18":"NA","19":"NA","20":"NA","21":"2008","22":"NA","23":"NA","24":"NA","25":"NA","26":"issn","27":"0264-3561","28":"NA","29":"PART_OF","30":"NA"},{"1":"4562453","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/4562453","5":"0","6":"2013-02-17","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"Developing Thin Clients Using Amphibious Epistemologies","18":"NA","19":"NA","20":"NA","21":"2008","22":"NA","23":"NA","24":"NA","25":"NA","26":"doi","27":"10.5555/12345679","28":"NA","29":"SELF","30":"NA"},{"1":"4562456","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/4562456","5":"0","6":"2013-02-17","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"Toward a Unified Theory of High-Energy Metaphysics: Silly String Theory","18":"NA","19":"NA","20":"NA","21":"2008","22":"NA","23":"NA","24":"NA","25":"NA","26":"issn","27":"0264-3561","28":"NA","29":"PART_OF","30":"NA"},{"1":"4562456","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/4562456","5":"0","6":"2013-02-17","7":"1.494016e+12","8":"https://orcid.org/0000-0002-1825-0097","9":"0000-0002-1825-0097","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Josiah Carberry","15":"NA","16":"NA","17":"Toward a Unified Theory of High-Energy Metaphysics: Silly String Theory","18":"NA","19":"NA","20":"NA","21":"2008","22":"NA","23":"NA","24":"NA","25":"NA","26":"doi","27":"10.5555/12345678","28":"NA","29":"SELF","30":"NA"},{"1":"19980729","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/19980729","5":"0","6":"2015-11-04","7":"1.494016e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0002-5982-8983","12":"0000-0002-5982-8983","13":"orcid.org","14":"Scopus - Elsevier","15":"NA","16":"NA","17":"Bulk and surface plasmons in artificially structured materials","18":"NA","19":"NA","20":"NA","21":"1987","22":"NA","23":"NA","24":"NA","25":"NA","26":"doi","27":"10.1109/TPS.1987.4316723","28":"NA","29":"SELF","30":"NA"},{"1":"19980729","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-1825-0097/work/19980729","5":"0","6":"2015-11-04","7":"1.494016e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0002-5982-8983","12":"0000-0002-5982-8983","13":"orcid.org","14":"Scopus - Elsevier","15":"NA","16":"NA","17":"Bulk and surface plasmons in artificially structured materials","18":"NA","19":"NA","20":"NA","21":"1987","22":"NA","23":"NA","24":"NA","25":"NA","26":"eid","27":"2-s2.0-0023398608","28":"NA","29":"SELF","30":"NA"},{"1":"56791858","2":"RESEARCH_TOOL","3":"PUBLIC","4":"/0000-0002-9260-8456/work/56791858","5":"1","6":"2019-04-25","7":"1.556228e+12","8":"https://orcid.org/0000-0002-9260-8456","9":"0000-0002-9260-8456","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Clarke Iakovakis","15":"NA","16":"NA","17":"Building Your Research Profile (without breaking copyright)","18":"NA","19":"NA","20":"NA","21":"2019","22":"NA","23":"NA","24":"03","25":"07","26":"doi","27":"10.17605/osf.io/2w6pj","28":"NA","29":"SELF","30":"https://doi.org/10.17605/osf.io/2w6pj"},{"1":"55186833","2":"CONFERENCE_PAPER","3":"PUBLIC","4":"/0000-0002-9260-8456/work/55186833","5":"1","6":"2019-03-12","7":"1.553542e+12","8":"https://orcid.org/0000-0002-9260-8456","9":"0000-0002-9260-8456","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Clarke Iakovakis","15":"NA","16":"NA","17":"Confronting the Elephant in the Room: Cleaning & Wrangling Data for Collections & Scholarly Services","18":"NA","19":"NA","20":"NA","21":"2019","22":"NA","23":"NA","24":"03","25":"05","26":"doi","27":"10.17605/OSF.IO/A5P3R","28":"NA","29":"SELF","30":"https://doi.org/10.17605%2Fosf.io%2Fa5p3r"},{"1":"55521281","2":"CONFERENCE_PAPER","3":"PUBLIC","4":"/0000-0002-9260-8456/work/55521281","5":"1","6":"2019-03-20","7":"1.553112e+12","8":"https://orcid.org/0000-0002-9260-8456","9":"0000-0002-9260-8456","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Clarke Iakovakis","15":"NA","16":"NA","17":"Open Access Publishing: Identifying quality journals & avoiding predatory publishers","18":"NA","19":"NA","20":"NA","21":"2018","22":"NA","23":"NA","24":"10","25":"NA","26":"handle","27":"11244/317599","28":"NA","29":"SELF","30":"https://hdl.handle.net/11244/317599"},{"1":"55184197","2":"LECTURE_SPEECH","3":"PUBLIC","4":"/0000-0002-9260-8456/work/55184197","5":"1","6":"2019-03-12","7":"1.556058e+12","8":"https://orcid.org/0000-0002-9260-8456","9":"0000-0002-9260-8456","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Clarke Iakovakis","15":"NA","16":"NA","17":"Introduction to R for Libraries","18":"NA","19":"NA","20":"NA","21":"2018","22":"NA","23":"NA","24":"05","25":"NA","26":"doi","27":"10.6084/m9.figshare.8029301","28":"NA","29":"SELF","30":"https://doi.org/10.6084/m9.figshare.8029301"},{"1":"14140662","2":"DISSERTATION","3":"PUBLIC","4":"/0000-0002-9260-8456/work/14140662","5":"0","6":"2014-10-20","7":"1.553111e+12","8":"https://orcid.org/0000-0002-9260-8456","9":"0000-0002-9260-8456","10":"orcid.org","11":"NA","12":"NA","13":"NA","14":"Clarke Iakovakis","15":"NA","16":"NA","17":"An interdisciplinary inquiry into the ethics codes of the helping professions","18":"NA","19":"NA","20":"NA","21":"2011","22":"NA","23":"NA","24":"05","25":"NA","26":"handle","27":"ETD-UT-2011-05-3522","28":"NA","29":"SELF","30":"http://hdl.handle.net/2152/ETD-UT-2011-05-3522"},{"1":"37069489","2":"OTHER","3":"PUBLIC","4":"/0000-0002-2771-9344/work/37069489","5":"0","6":"2017-09-24","7":"1.506242e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0001-8099-6984","12":"0000-0001-8099-6984","13":"orcid.org","14":"DataCite","15":"NA","16":"NA","17":"Introducing Orcid","18":"NA","19":"NA","20":"NA","21":"2017","22":"NA","23":"NA","24":"03","25":"28","26":"doi","27":"10.5281/zenodo.495149","28":"NA","29":"SELF","30":"NA"},{"1":"43318438","2":"OTHER","3":"PUBLIC","4":"/0000-0002-2771-9344/work/43318438","5":"0","6":"2018-04-05","7":"1.522962e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0001-8099-6984","12":"0000-0001-8099-6984","13":"orcid.org","14":"DataCite","15":"NA","16":"NA","17":"ORCID Public Data File 2017","18":"NA","19":"NA","20":"NA","21":"2017","22":"NA","23":"NA","24":"NA","25":"NA","26":"doi","27":"10.6084/m9.figshare.5479792.v1","28":"NA","29":"SELF","30":"NA"},{"1":"37069490","2":"OTHER","3":"PUBLIC","4":"/0000-0002-2771-9344/work/37069490","5":"0","6":"2017-09-24","7":"1.506242e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0001-8099-6984","12":"0000-0001-8099-6984","13":"orcid.org","14":"DataCite","15":"NA","16":"NA","17":"Introducing Orcid: What, Why And How","18":"NA","19":"NA","20":"NA","21":"2016","22":"NA","23":"NA","24":"11","25":"23","26":"doi","27":"10.5281/zenodo.168190","28":"NA","29":"SELF","30":"NA"},{"1":"37069241","2":"DATA_SET","3":"PUBLIC","4":"/0000-0002-2771-9344/work/37069241","5":"0","6":"2017-09-24","7":"1.506241e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0001-8099-6984","12":"0000-0001-8099-6984","13":"orcid.org","14":"DataCite","15":"NA","16":"NA","17":"ORCID Public Data File 2016","18":"NA","19":"NA","20":"NA","21":"2016","22":"NA","23":"NA","24":"NA","25":"NA","26":"doi","27":"10.6084/m9.figshare.4134027.v1","28":"NA","29":"SELF","30":"NA"},{"1":"37069473","2":"JOURNAL_ARTICLE","3":"PUBLIC","4":"/0000-0002-2771-9344/work/37069473","5":"0","6":"2017-09-24","7":"1.506242e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0002-3054-1567","12":"0000-0002-3054-1567","13":"orcid.org","14":"Crossref Metadata Search","15":"NA","16":"NA","17":"Your Lifelong Digital Name","18":"NA","19":"NA","20":"NA","21":"2016","22":"NA","23":"NA","24":"NA","25":"NA","26":"doi","27":"10.1002/chemv.201600091","28":"NA","29":"SELF","30":"NA"},{"1":"37069249","2":"DATA_SET","3":"PUBLIC","4":"/0000-0002-2771-9344/work/37069249","5":"0","6":"2017-09-24","7":"1.506241e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0001-8099-6984","12":"0000-0001-8099-6984","13":"orcid.org","14":"DataCite","15":"NA","16":"NA","17":"ORCID Public Data File 2015","18":"NA","19":"NA","20":"NA","21":"2015","22":"NA","23":"NA","24":"NA","25":"NA","26":"doi","27":"10.6084/m9.figshare.1582705","28":"NA","29":"SELF","30":"NA"},{"1":"37069240","2":"DATA_SET","3":"PUBLIC","4":"/0000-0002-2771-9344/work/37069240","5":"0","6":"2017-09-24","7":"1.506241e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0001-8099-6984","12":"0000-0001-8099-6984","13":"orcid.org","14":"DataCite","15":"NA","16":"NA","17":"ORCID Annual Public Data File, 2014","18":"NA","19":"NA","20":"NA","21":"2014","22":"NA","23":"NA","24":"NA","25":"NA","26":"doi","27":"10.14454/07243.2014.001","28":"NA","29":"SELF","30":"NA"},{"1":"37069239","2":"DATA_SET","3":"PUBLIC","4":"/0000-0002-2771-9344/work/37069239","5":"0","6":"2017-09-24","7":"1.506241e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0001-8099-6984","12":"0000-0001-8099-6984","13":"orcid.org","14":"DataCite","15":"NA","16":"NA","17":"ORCID Annual Public Data File, 2013","18":"NA","19":"NA","20":"NA","21":"2013","22":"NA","23":"NA","24":"NA","25":"NA","26":"doi","27":"10.14454/07243.2013.001","28":"NA","29":"SELF","30":"NA"},{"1":"37069475","2":"OTHER","3":"PUBLIC","4":"/0000-0002-2771-9344/work/37069475","5":"0","6":"2017-09-24","7":"1.506242e+12","8":"NA","9":"NA","10":"NA","11":"https://orcid.org/client/0000-0002-3054-1567","12":"0000-0002-3054-1567","13":"orcid.org","14":"Crossref Metadata Search","15":"NA","16":"NA","17":"ORCID","18":"NA","19":"NA","20":"NA","21":"2009","22":"NA","23":"NA","24":"NA","25":"NA","26":"doi","27":"10.1081/e-elis3-120050534","28":"NA","29":"SELF","30":"NA"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div id="conclusion" class="section level1">
<h1><span class="header-section-number">8</span> Conclusion</h1>
<p>The ORCID API is an excellent tool for analyzing research activity on multiple levels. <code>rorcid</code> makes gathering and cleaning the data easier. Thanks to both ORCID and Scott Chamberlain for their contributions to the community. Again, read Paul Oldham’s excellent post at <a href="https://www.pauloldham.net/introduction-to-orcid-with-rorcid/" class="uri">https://www.pauloldham.net/introduction-to-orcid-with-rorcid/</a> for more you can do. I hope this walkthrough helps. If you need to get in touch with me, find my contact info at <a href="https://info.library.okstate.edu/clarke-iakovakis" class="uri">https://info.library.okstate.edu/clarke-iakovakis</a>.</p>
</div>
</section>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
